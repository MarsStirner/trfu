<?xml version="1.0" encoding="UTF-8"?>
<jasperReport xmlns="http://jasperreports.sourceforge.net/jasperreports" xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xsi:schemaLocation="http://jasperreports.sourceforge.net/jasperreports http://jasperreports.sourceforge.net/xsd/jasperreport.xsd" name="report3" pageWidth="842" pageHeight="595" orientation="Landscape" whenNoDataType="AllSectionsNoDetail" columnWidth="802" leftMargin="20" rightMargin="20" topMargin="20" bottomMargin="20">
	<property name="ireport.zoom" value="1.0"/>
	<property name="ireport.x" value="0"/>
	<property name="ireport.y" value="0"/>
	<style name="table">
		<box>
			<pen lineWidth="1.0" lineColor="#000000"/>
		</box>
	</style>
	<style name="table_TH" mode="Opaque" backcolor="#F0F8FF">
		<box>
			<pen lineWidth="0.5" lineColor="#000000"/>
		</box>
	</style>
	<style name="table_CH" mode="Opaque" backcolor="#BFE1FF">
		<box>
			<pen lineWidth="0.5" lineColor="#000000"/>
		</box>
	</style>
	<style name="table_TD" mode="Opaque" backcolor="#FFFFFF">
		<box>
			<pen lineWidth="0.5" lineColor="#000000"/>
		</box>
	</style>
	<style name="table 1">
		<box>
			<pen lineWidth="1.0" lineColor="#000000"/>
		</box>
	</style>
	<style name="table 1_TH" mode="Opaque" backcolor="#F0F8FF">
		<box>
			<pen lineWidth="0.5" lineColor="#000000"/>
		</box>
	</style>
	<style name="table 1_CH" mode="Opaque" backcolor="#BFE1FF">
		<box>
			<pen lineWidth="0.5" lineColor="#000000"/>
		</box>
	</style>
	<style name="table 1_TD" mode="Opaque" backcolor="#FFFFFF">
		<box>
			<pen lineWidth="0.5" lineColor="#000000"/>
		</box>
	</style>
	<style name="table 2">
		<box>
			<pen lineWidth="1.0" lineColor="#000000"/>
		</box>
	</style>
	<style name="table 2_TH" mode="Opaque" backcolor="#F0F8FF">
		<box>
			<pen lineWidth="0.5" lineColor="#000000"/>
		</box>
	</style>
	<style name="table 2_CH" mode="Opaque" backcolor="#BFE1FF">
		<box>
			<pen lineWidth="0.5" lineColor="#000000"/>
		</box>
	</style>
	<style name="table 2_TD" mode="Opaque" backcolor="#FFFFFF">
		<box>
			<pen lineWidth="0.5" lineColor="#000000"/>
		</box>
	</style>
	<subDataset name="Vsego_ost_plasm_rashod_plasm">
		<parameter name="StartDate" class="java.util.Date"/>
		<parameter name="EndDate" class="java.util.Date"/>
		<queryString>
			<![CDATA[SELECT * from

(select
	sum(comp.volume) as trfu_blood_components_pl
from trfu_blood_components comp
	inner join trfu_blood_component_types comp_types
	on comp.componentType_id = comp_types.id
	inner join trfu_blood_component_history hist
	on comp.id = hist.component_id
	inner join wf_history wf
	on hist.history_entry_id = wf.id
where wf.to_status_id = 10
	and wf.startDate between '2012-06-01 00:00:00' and '2012-06-30 23:59:59'
	and comp.deleted = 0
	and comp_types.value LIKE '%плазма%'
	and comp.id not in (select
							sub_comp.id
						from trfu_blood_components sub_comp
							inner join trfu_blood_component_history sub_hist
							on sub_comp.id = sub_hist.component_id
							inner join wf_history sub_wf
							on sub_hist.history_entry_id = sub_wf.id
						where sub_wf.to_status_id <> 10
							and sub_wf.startDate between wf.startDate and '2012-06-30 23:59:59'
							and sub_comp.id = comp.id)
) as table11

JOIN

(select
sum(trfu_blood_components.`volume`) as plasm_brak
FROM
     `trfu_blood_component_types` trfu_blood_component_types INNER JOIN `trfu_blood_components` trfu_blood_components ON trfu_blood_component_types.`id` = trfu_blood_components.`componentType_id`
 inner join `trfu_blood_component_history` trfu_blood_component_history on trfu_blood_components.`id` = trfu_blood_component_history.`component_id`
inner join `wf_history` wf_history on wf_history.`id`=trfu_blood_component_history.`history_entry_id`
WHERE
(trfu_blood_component_types.`value` LIKE '%плазма%')
and trfu_blood_components.`deleted` = 0
 AND DATE(wf_history.`startDate`) >= DATE($P{StartDate})
 AND DATE(wf_history.`startDate`) <=DATE($P{EndDate})
 AND wf_history.`to_status_id` = -2
and trfu_blood_components.`status_id` = -2
) as table21

JOIN

(SELECT sum(comp.volume) as plasm_ostatok_2

FROM
  trfu_blood_components comp

INNER JOIN trfu_blood_component_types comp_types

ON comp.componentType_id = comp_types.id

INNER JOIN trfu_blood_component_history hist

ON comp.id = hist.component_id
INNER JOIN wf_history wf
ON hist.history_entry_id = wf.id
WHERE

  wf.to_status_id = 3

  AND wf.startDate = (
  SELECT max(wf_in.startDate)
  FROM

    trfu_blood_component_history hist_in
  INNER JOIN wf_history wf_in

  ON hist_in.history_entry_id = wf_in.id

  WHERE
 (wf_in.startDate) <= ADDDATE(($P{EndDate}),1)

    AND hist_in.component_id = comp.id

  )
  AND (comp.expirationDate) >=($P{EndDate})
 AND (comp.status_id <> 100
  OR (comp.status_id = 100 and comp.splitDate>ADDDATE(($P{EndDate}),1)))
  and comp.deleted=0
 and  (comp_types.`value` LIKE '%плазма%')) as table31

JOIN



(SELECT sum(comp.volume)  as plasm_ostatok

FROM
  trfu_blood_components comp

INNER JOIN trfu_blood_component_types comp_types

ON comp.componentType_id = comp_types.id

INNER JOIN trfu_blood_component_history hist

ON comp.id = hist.component_id
INNER JOIN wf_history wf
ON hist.history_entry_id = wf.id
WHERE

  wf.to_status_id = 3

  AND wf.startDate = (
  SELECT max(wf_in.startDate)
  FROM

    trfu_blood_component_history hist_in
  INNER JOIN wf_history wf_in

  ON hist_in.history_entry_id = wf_in.id

  WHERE
    (wf_in.startDate) <= date($P{StartDate})

    AND hist_in.component_id = comp.id

  )
  AND (comp.expirationDate) >= adddate(($P{StartDate}),-1)
 AND (comp.status_id <> 100
  OR (comp.status_id = 100 and comp.splitDate>=($P{StartDate})))
  and comp.deleted=0
 and  (comp_types.`value` LIKE '%плазма%')) as table1

JOIN

(select sum(trfu_blood_components.`volume`)  as plasm_eksped_volume
FROM
     `trfu_blood_components` trfu_blood_components INNER JOIN `trfu_blood_donation_requests` trfu_blood_donation_requests ON trfu_blood_components.`donationId` = trfu_blood_donation_requests.`id`
     INNER JOIN `trfu_blood_donation_request_fact_entries` trfu_blood_donation_request_fact_entries ON trfu_blood_donation_requests.`id` = trfu_blood_donation_request_fact_entries.`donation_id`
     INNER JOIN `trfu_blood_donation_entries` trfu_blood_donation_entries ON trfu_blood_donation_request_fact_entries.`entry_id` = trfu_blood_donation_entries.`id`
     INNER JOIN `trfu_blood_component_types` trfu_blood_component_types ON trfu_blood_components.`componentType_id` = trfu_blood_component_types.`id`
     inner join `trfu_blood_component_history` trfu_blood_component_history on trfu_blood_components.`id` = trfu_blood_component_history.`component_id`
inner join `wf_history` wf_history on wf_history.`id`=trfu_blood_component_history.`history_entry_id`
     where
trfu_blood_components.deleted=0
and trfu_blood_components.maker_id='11'
and trfu_blood_component_types.value like '%плазма%' and trfu_blood_components.status_id!='-1'
and (trfu_blood_components.status_id='100' or (trfu_blood_components.status_id='10' and trfu_blood_components.split=0) or trfu_blood_components.status_id='-2' or trfu_blood_components.status_id='3' )
and wf_history.`to_status_id`='3' and date(startDate)>=date($P{StartDate}) and date(startDate)<=date($P{EndDate})) as table2

JOIN

(select sum(trfu_blood_components.`volume`) as plasm_eksped_volume_dr
FROM
     `trfu_blood_components` trfu_blood_components
      INNER JOIN `trfu_blood_component_types` trfu_blood_component_types ON trfu_blood_components.`componentType_id` = trfu_blood_component_types.`id`
     where
 trfu_blood_components.maker_id!='11'
 and trfu_blood_components.deleted=0
and trfu_blood_component_types.value like '%плазма%' and trfu_blood_components.status_id!='-1' and trfu_blood_components.split=false
and date(receivedDate)>=date($P{StartDate}) and date(receivedDate)<=date($P{EndDate})) as table3]]>
		</queryString>
		<field name="plasm_ostatok" class="java.math.BigDecimal"/>
		<field name="plasm_eksped_volume" class="java.math.BigDecimal"/>
		<field name="plasm_eksped_volume_dr" class="java.math.BigDecimal"/>
		<field name="trfu_blood_components_pl" class="java.math.BigDecimal"/>
		<field name="plasm_brak" class="java.math.BigDecimal"/>
		<field name="plasm_ostatok_2" class="java.math.BigDecimal"/>
		<variable name="plasm_eksped_volume" class="java.math.BigDecimal">
			<variableExpression><![CDATA[$F{plasm_eksped_volume}==null?(java.math.BigDecimal.valueOf(0)):$F{plasm_eksped_volume}.divide(java.math.BigDecimal.valueOf(1000))]]></variableExpression>
		</variable>
		<variable name="plasm_eksped_volume_dr" class="java.math.BigDecimal">
			<variableExpression><![CDATA[$F{plasm_eksped_volume_dr}==null?(java.math.BigDecimal.valueOf(0)):$F{plasm_eksped_volume_dr}.divide(java.math.BigDecimal.valueOf(1000))]]></variableExpression>
		</variable>
		<variable name="plasm_ostatok" class="java.math.BigDecimal">
			<variableExpression><![CDATA[$F{plasm_ostatok}==null?(java.math.BigDecimal.valueOf(0)):$F{plasm_ostatok}.divide(java.math.BigDecimal.valueOf(1000))]]></variableExpression>
		</variable>
		<variable name="plasm_rashod_volume" class="java.math.BigDecimal">
			<variableExpression><![CDATA[$F{trfu_blood_components_pl}==null?(java.math.BigDecimal.valueOf(0)):$F{trfu_blood_components_pl}.divide(java.math.BigDecimal.valueOf(1000))]]></variableExpression>
		</variable>
		<variable name="plasm_brak_volume" class="java.math.BigDecimal">
			<variableExpression><![CDATA[$F{plasm_brak}==null?(java.math.BigDecimal.valueOf(0)):$F{plasm_brak}.divide(java.math.BigDecimal.valueOf(1000))]]></variableExpression>
		</variable>
		<variable name="plasm_ostatok_volume" class="java.math.BigDecimal">
			<variableExpression><![CDATA[$F{plasm_ostatok_2}==null?(java.math.BigDecimal.valueOf(0)):$F{plasm_ostatok_2}.divide(java.math.BigDecimal.valueOf(1000))]]></variableExpression>
		</variable>
	</subDataset>
	<subDataset name="Vsego_ost_rashod_ervzv">
		<parameter name="StartDate" class="java.util.Date"/>
		<parameter name="EndDate" class="java.util.Date"/>
		<queryString>
			<![CDATA[SELECT * from
(SELECT sum(comp.volume) as ervzv_ostatok


FROM
  trfu_blood_components comp

INNER JOIN trfu_blood_component_types comp_types

ON comp.componentType_id = comp_types.id

INNER JOIN trfu_blood_component_history hist

ON comp.id = hist.component_id
INNER JOIN wf_history wf
ON hist.history_entry_id = wf.id
WHERE

  wf.to_status_id = 3

  AND wf.startDate = (
  SELECT max(wf_in.startDate)
  FROM

    trfu_blood_component_history hist_in
  INNER JOIN wf_history wf_in

  ON hist_in.history_entry_id = wf_in.id

  WHERE
    (wf_in.startDate) <= date($P{StartDate})

    AND hist_in.component_id = comp.id

  )
  AND (comp.expirationDate) >= adddate(($P{StartDate}),-1)
 AND (comp.status_id <> 100
  OR (comp.status_id = 100 and comp.splitDate>=($P{StartDate})))
  and comp.deleted=0
 and  (comp_types.`value` LIKE '%эритроцит%взвесь%' and (comp_types.`value` not like '%аферез%'))) as table1

JOIN
(
SELECT sum(table2.ervzv_eksped) as ervzv_eksped_volume
FROM
(select DISTINCT trfu_blood_components.id,
trfu_blood_components.`volume` as ervzv_eksped

FROM
     `trfu_blood_components` trfu_blood_components INNER JOIN `trfu_blood_donation_requests` trfu_blood_donation_requests ON trfu_blood_components.`donationId` = trfu_blood_donation_requests.`id`
     INNER JOIN `trfu_blood_donation_request_fact_entries` trfu_blood_donation_request_fact_entries ON trfu_blood_donation_requests.`id` = trfu_blood_donation_request_fact_entries.`donation_id`
     INNER JOIN `trfu_blood_donation_entries` trfu_blood_donation_entries ON trfu_blood_donation_request_fact_entries.`entry_id` = trfu_blood_donation_entries.`id`
     INNER JOIN `trfu_blood_component_types` trfu_blood_component_types ON trfu_blood_components.`componentType_id` = trfu_blood_component_types.`id`
     inner join `trfu_blood_component_history` trfu_blood_component_history on trfu_blood_components.`id` = trfu_blood_component_history.`component_id`
inner join `wf_history` wf_history on wf_history.`id`=trfu_blood_component_history.`history_entry_id`
     where
trfu_blood_components.maker_id='11'
and trfu_blood_component_types.value like '%эри%' and trfu_blood_components.status_id!='-1'
     and wf_history.`to_status_id` = 3
     and trfu_blood_components.`split` = false
and wf_history.`from_status_id`='1'
and trfu_blood_donation_entries.`donationType_id` = '1'
  and trfu_blood_components.deleted=0
and date(startDate)>=date($P{StartDate}) and date(startDate)<=date($P{EndDate})
GROUP BY id) as table2
) as table4

JOIN

(select
sum(trfu_blood_components.`volume`) as ervzv_eksped_volume_dr
FROM
     `trfu_blood_components` trfu_blood_components
      INNER JOIN `trfu_blood_component_types` trfu_blood_component_types ON trfu_blood_components.`componentType_id` = trfu_blood_component_types.`id`
     where
 trfu_blood_components.maker_id!='11'
  and trfu_blood_components.deleted=0
and trfu_blood_component_types.value like '%эри%' and trfu_blood_components.status_id!='-1'
and trfu_blood_components.split=false
and date(receivedDate)>=date($P{StartDate}) and date(receivedDate)<=date($P{EndDate})
) as table3

JOIN

(select
sum(trfu_blood_components.`volume`) as trfu_blood_components_er_v
FROM
 `trfu_blood_component_types` trfu_blood_component_types INNER JOIN `trfu_blood_components` trfu_blood_components ON trfu_blood_component_types.`id`
= trfu_blood_components.`componentType_id`
     left outer JOIN `trfu_blood_component_order_requests` trfu_blood_component_order_requests ON trfu_blood_components.`orderId` =
trfu_blood_component_order_requests.`id`
WHERE
     trfu_blood_components.`deleted` = 0
 AND DATE(trfu_blood_component_order_requests.`factDate`) >= DATE($P{StartDate})
 AND DATE(trfu_blood_component_order_requests.`factDate`) <= DATE($P{EndDate})
 AND trfu_blood_component_order_requests.`status_id` = 3
and (trfu_blood_component_types.`value` LIKE '%эритроцит%взвесь%' and (trfu_blood_component_types.`value` not like '%аферез%'))
) as table5

JOIN

(select
sum(trfu_blood_components.`volume`) as ervzvz_brak
FROM
     `trfu_blood_component_types` trfu_blood_component_types INNER JOIN `trfu_blood_components` trfu_blood_components ON trfu_blood_component_types.`id` = trfu_blood_components.`componentType_id`
 inner join `trfu_blood_component_history` trfu_blood_component_history on trfu_blood_components.`id` = trfu_blood_component_history.`component_id`
inner join `wf_history` wf_history on wf_history.`id`=trfu_blood_component_history.`history_entry_id`
WHERE
(trfu_blood_component_types.`value` LIKE '%эритроцит%взвесь%' and (trfu_blood_component_types.`value` not like '%аферез%' ))
and trfu_blood_components.`deleted` = 0
 AND DATE(wf_history.`startDate`) >= DATE($P{StartDate})
 AND DATE(wf_history.`startDate`) <=DATE($P{EndDate})
 AND wf_history.`to_status_id` = -2
and trfu_blood_components.`status_id` = -2
)  as table6]]>
		</queryString>
		<field name="ervzv_ostatok" class="java.math.BigDecimal"/>
		<field name="ervzv_eksped_volume" class="java.math.BigDecimal"/>
		<field name="ervzv_eksped_volume_dr" class="java.math.BigDecimal"/>
		<field name="trfu_blood_components_er_v" class="java.math.BigDecimal"/>
		<field name="ervzvz_brak" class="java.math.BigDecimal"/>
		<variable name="ervzv_eksped_volume" class="java.math.BigDecimal">
			<variableExpression><![CDATA[$F{ervzv_eksped_volume}==null?(java.math.BigDecimal.valueOf(0)):$F{ervzv_eksped_volume}.divide(java.math.BigDecimal.valueOf(1000))]]></variableExpression>
		</variable>
		<variable name="ervzv_eksped_volume_dr" class="java.math.BigDecimal">
			<variableExpression><![CDATA[$F{ervzv_eksped_volume_dr}==null?(java.math.BigDecimal.valueOf(0)):$F{ervzv_eksped_volume_dr}.divide(java.math.BigDecimal.valueOf(1000))]]></variableExpression>
		</variable>
		<variable name="ervzv_ostatok" class="java.math.BigDecimal">
			<variableExpression><![CDATA[$F{ervzv_ostatok}==null?(java.math.BigDecimal.valueOf(0)):$F{ervzv_ostatok}.divide(java.math.BigDecimal.valueOf(1000))]]></variableExpression>
		</variable>
		<variable name="ervzv_rashod_volume" class="java.math.BigDecimal">
			<variableExpression><![CDATA[$F{trfu_blood_components_er_v}==null?(java.math.BigDecimal.valueOf(0)):$F{trfu_blood_components_er_v}.divide(java.math.BigDecimal.valueOf(1000))]]></variableExpression>
		</variable>
		<variable name="ervzv_brak_volume" class="java.math.BigDecimal">
			<variableExpression><![CDATA[$F{ervzvz_brak}==null?(java.math.BigDecimal.valueOf(0)):$F{ervzvz_brak}.divide(java.math.BigDecimal.valueOf(1000))]]></variableExpression>
		</variable>
		<variable name="ervzv_ostatok_volume" class="java.math.BigDecimal">
			<variableExpression><![CDATA[$V{ervzv_eksped_volume}.add($V{ervzv_eksped_volume_dr}).add($V{ervzv_ostatok}).subtract($V{ervzv_rashod_volume}).subtract($V{ervzv_brak_volume})]]></variableExpression>
		</variable>
	</subDataset>
	<subDataset name="Vsego_ost_rashod_ermassa">
		<parameter name="StartDate" class="java.util.Date"/>
		<parameter name="EndDate" class="java.util.Date"/>
		<queryString>
			<![CDATA[SELECT * from
(SELECT sum(comp.volume)  as er_massa_ostatok

FROM
  trfu_blood_components comp

INNER JOIN trfu_blood_component_types comp_types

ON comp.componentType_id = comp_types.id

INNER JOIN trfu_blood_component_history hist

ON comp.id = hist.component_id
INNER JOIN wf_history wf
ON hist.history_entry_id = wf.id
WHERE

  wf.to_status_id = 3

  AND wf.startDate = (
  SELECT max(wf_in.startDate)
  FROM

    trfu_blood_component_history hist_in
  INNER JOIN wf_history wf_in

  ON hist_in.history_entry_id = wf_in.id

  WHERE
    (wf_in.startDate) <= date($P{StartDate})

    AND hist_in.component_id = comp.id

  )
  AND (comp.expirationDate) >= adddate(($P{StartDate}),-1)
 AND (comp.status_id <> 100
  OR (comp.status_id = 100 and comp.splitDate>=($P{StartDate})))
  and comp.deleted=0
 and  (comp_types.`value` LIKE '%эритроцит%масса%')) as table1

JOIN

(select sum(trfu_blood_components.`volume`)  as erm_eksped_volume
FROM
     `trfu_blood_components` trfu_blood_components INNER JOIN `trfu_blood_donation_requests` trfu_blood_donation_requests ON trfu_blood_components.`donationId` = trfu_blood_donation_requests.`id`
     INNER JOIN `trfu_blood_donation_request_fact_entries` trfu_blood_donation_request_fact_entries ON trfu_blood_donation_requests.`id` = trfu_blood_donation_request_fact_entries.`donation_id`
     INNER JOIN `trfu_blood_donation_entries` trfu_blood_donation_entries ON trfu_blood_donation_request_fact_entries.`entry_id` = trfu_blood_donation_entries.`id`
     INNER JOIN `trfu_blood_component_types` trfu_blood_component_types ON trfu_blood_components.`componentType_id` = trfu_blood_component_types.`id`
     inner join `trfu_blood_component_history` trfu_blood_component_history on trfu_blood_components.`id` = trfu_blood_component_history.`component_id`
inner join `wf_history` wf_history on wf_history.`id`=trfu_blood_component_history.`history_entry_id`
     where
trfu_blood_components.maker_id='11'
and trfu_blood_component_types.value like '%эри%масса%' and trfu_blood_components.status_id!='-1'
  and trfu_blood_components.deleted=0
and (trfu_blood_components.status_id='100' or (trfu_blood_components.status_id='10' and trfu_blood_components.split=0) or trfu_blood_components.status_id='-2' or trfu_blood_components.status_id='3' )
and wf_history.`to_status_id`='3' and date(startDate)>=date($P{StartDate}) and date(startDate)<=date($P{EndDate})) as table2

JOIN

(select sum(trfu_blood_components.`volume`)  as erm_eksped_volume_dr
FROM
    `trfu_blood_components` trfu_blood_components
      INNER JOIN `trfu_blood_component_types` trfu_blood_component_types ON trfu_blood_components.`componentType_id` = trfu_blood_component_types.`id`
     where
 trfu_blood_components.maker_id!='11'
  and trfu_blood_components.deleted=0
and trfu_blood_component_types.value like '%эри%масса%' and trfu_blood_components.status_id!='-1'
and trfu_blood_components.split=false
and date(receivedDate)>=date($P{StartDate}) and date(receivedDate)<=date($P{EndDate})) as table3

JOIN

(select
sum(trfu_blood_components.`volume`) as trfu_blood_components_er_m
FROM
 `trfu_blood_component_types` trfu_blood_component_types INNER JOIN `trfu_blood_components` trfu_blood_components ON trfu_blood_component_types.`id`
= trfu_blood_components.`componentType_id`
     left outer JOIN `trfu_blood_component_order_requests` trfu_blood_component_order_requests ON trfu_blood_components.`orderId` =
trfu_blood_component_order_requests.`id`
WHERE
     trfu_blood_components.`deleted` = 0
 AND DATE(trfu_blood_component_order_requests.`factDate`) >= DATE($P{StartDate})
 AND DATE(trfu_blood_component_order_requests.`factDate`) <= DATE($P{EndDate})
 AND trfu_blood_component_order_requests.`status_id` = 3
and (trfu_blood_component_types.`value` LIKE '%эритроцитная масса%')
) as table4

JOIN


(select
sum(trfu_blood_components.`volume`) as er_m_brak
FROM
     `trfu_blood_component_types` trfu_blood_component_types INNER JOIN `trfu_blood_components` trfu_blood_components ON trfu_blood_component_types.`id` = trfu_blood_components.`componentType_id`
 inner join `trfu_blood_component_history` trfu_blood_component_history on trfu_blood_components.`id` = trfu_blood_component_history.`component_id`
inner join `wf_history` wf_history on wf_history.`id`=trfu_blood_component_history.`history_entry_id`
WHERE
(trfu_blood_component_types.`value` LIKE '%эритроцитная масса%')
and trfu_blood_components.`deleted` = 0
 AND DATE(wf_history.`startDate`) >= DATE($P{StartDate})
 AND DATE(wf_history.`startDate`) <= DATE($P{EndDate})
 AND wf_history.`to_status_id` = -2
and trfu_blood_components.`status_id` = -2
) as table5]]>
		</queryString>
		<field name="er_massa_ostatok" class="java.math.BigDecimal"/>
		<field name="erm_eksped_volume" class="java.math.BigDecimal"/>
		<field name="erm_eksped_volume_dr" class="java.math.BigDecimal"/>
		<field name="trfu_blood_components_er_m" class="java.math.BigDecimal"/>
		<field name="er_m_brak" class="java.math.BigDecimal"/>
		<variable name="erm_eksped_volume" class="java.math.BigDecimal">
			<variableExpression><![CDATA[$F{erm_eksped_volume}==null?(java.math.BigDecimal.valueOf(0)):$F{erm_eksped_volume}.divide(java.math.BigDecimal.valueOf(1000))]]></variableExpression>
		</variable>
		<variable name="erm_eksped_volume_dr" class="java.math.BigDecimal">
			<variableExpression><![CDATA[$F{erm_eksped_volume_dr}==null?(java.math.BigDecimal.valueOf(0)):$F{erm_eksped_volume_dr}.divide(java.math.BigDecimal.valueOf(1000))]]></variableExpression>
		</variable>
		<variable name="erm_ostatok" class="java.math.BigDecimal">
			<variableExpression><![CDATA[$F{er_massa_ostatok}==null?(java.math.BigDecimal.valueOf(0)):$F{er_massa_ostatok}.divide(java.math.BigDecimal.valueOf(1000))]]></variableExpression>
		</variable>
		<variable name="erm_rashod_volume" class="java.math.BigDecimal">
			<variableExpression><![CDATA[$F{trfu_blood_components_er_m}==null?(java.math.BigDecimal.valueOf(0)):$F{trfu_blood_components_er_m}.divide(java.math.BigDecimal.valueOf(1000))]]></variableExpression>
		</variable>
		<variable name="erm_brak_volume" class="java.math.BigDecimal">
			<variableExpression><![CDATA[$F{er_m_brak}==null?(java.math.BigDecimal.valueOf(0)):$F{er_m_brak}.divide(java.math.BigDecimal.valueOf(1000))]]></variableExpression>
		</variable>
		<variable name="erm_ostatok_volume" class="java.math.BigDecimal">
			<variableExpression><![CDATA[$V{erm_eksped_volume}.add($V{erm_eksped_volume_dr}).add($V{erm_ostatok}).subtract($V{erm_rashod_volume}).subtract($V{erm_brak_volume})]]></variableExpression>
		</variable>
	</subDataset>
	<subDataset name="Vsego_ost_rashod_erv_aferez">
		<parameter name="StartDate" class="java.util.Date"/>
		<parameter name="EndDate" class="java.util.Date"/>
		<queryString>
			<![CDATA[SELECT * from
(SELECT sum(comp.volume) as ervzv_aferez_ostatok

FROM
  trfu_blood_components comp

INNER JOIN trfu_blood_component_types comp_types

ON comp.componentType_id = comp_types.id

INNER JOIN trfu_blood_component_history hist

ON comp.id = hist.component_id
INNER JOIN wf_history wf
ON hist.history_entry_id = wf.id
WHERE

  wf.to_status_id = 3

  AND wf.startDate = (
  SELECT max(wf_in.startDate)
  FROM

    trfu_blood_component_history hist_in
  INNER JOIN wf_history wf_in

  ON hist_in.history_entry_id = wf_in.id

  WHERE
    (wf_in.startDate) <= date($P{StartDate})

    AND hist_in.component_id = comp.id

  )
  AND (comp.expirationDate) >= adddate(($P{StartDate}),-1)
 AND (comp.status_id <> 100
  OR (comp.status_id = 100 and comp.splitDate>=($P{StartDate})))
  and comp.deleted=0
 and  (comp_types.`value` LIKE '%эритроцит%взвесь%аферез%')) as table1

JOIN

(select sum(trfu_blood_components.`volume`)  as ervzv_aferez_eksped_volume
FROM
     `trfu_blood_components` trfu_blood_components INNER JOIN `trfu_blood_donation_requests` trfu_blood_donation_requests ON trfu_blood_components.`donationId` = trfu_blood_donation_requests.`id`
     INNER JOIN `trfu_blood_donation_request_fact_entries` trfu_blood_donation_request_fact_entries ON trfu_blood_donation_requests.`id` = trfu_blood_donation_request_fact_entries.`donation_id`
     INNER JOIN `trfu_blood_donation_entries` trfu_blood_donation_entries ON trfu_blood_donation_request_fact_entries.`entry_id` = trfu_blood_donation_entries.`id`
     INNER JOIN `trfu_blood_component_types` trfu_blood_component_types ON trfu_blood_components.`componentType_id` = trfu_blood_component_types.`id`
     inner join `trfu_blood_component_history` trfu_blood_component_history on trfu_blood_components.`id` = trfu_blood_component_history.`component_id`
inner join `wf_history` wf_history on wf_history.`id`=trfu_blood_component_history.`history_entry_id`
     where
trfu_blood_donation_entries.`donationType_id` = 3
and trfu_blood_components.deleted=0
and trfu_blood_components.maker_id='11'
and trfu_blood_component_types.value like '%эри%' and trfu_blood_components.status_id!='-1'
     and wf_history.`to_status_id` = 3
     and trfu_blood_components.`split` = false
and wf_history.`from_status_id`='1'
and trfu_blood_donation_entries.`donationType_id` = '3'
and date(startDate)>=date($P{StartDate}) and date(startDate)<=date($P{EndDate})) as table2

JOIN

(select sum(trfu_blood_components.`volume`)  as ervzv_aferez_eksped_volume_dr
FROM
     `trfu_blood_components` trfu_blood_components
      INNER JOIN `trfu_blood_component_types` trfu_blood_component_types ON trfu_blood_components.`componentType_id` = trfu_blood_component_types.`id`
     where
 trfu_blood_components.maker_id!='11'
  and trfu_blood_components.deleted=0
and trfu_blood_component_types.value like '%эри%аферез%' and trfu_blood_components.status_id!='-1'
and trfu_blood_components.split=false
and date(receivedDate)>=date($P{StartDate}) and date(receivedDate)<=date($P{EndDate})) as table3

JOIN

(select
sum(trfu_blood_components.`volume`) as trfu_blood_components_er_v_aferez
FROM
 `trfu_blood_component_types` trfu_blood_component_types INNER JOIN `trfu_blood_components` trfu_blood_components ON trfu_blood_component_types.`id`
= trfu_blood_components.`componentType_id`
     left outer JOIN `trfu_blood_component_order_requests` trfu_blood_component_order_requests ON trfu_blood_components.`orderId` =
trfu_blood_component_order_requests.`id`
WHERE
     trfu_blood_components.`deleted` = 0
 AND DATE(trfu_blood_component_order_requests.`factDate`) >= DATE($P{StartDate})
 AND DATE(trfu_blood_component_order_requests.`factDate`) <= DATE($P{EndDate})
 AND trfu_blood_component_order_requests.`status_id` = 3
and (trfu_blood_component_types.`value` LIKE '%эритроцит%взвесь%аферез%')
) as table4

JOIN

(select
sum(trfu_blood_components.`volume`) as ervzv_aferez_brak
FROM
     `trfu_blood_component_types` trfu_blood_component_types INNER JOIN `trfu_blood_components` trfu_blood_components ON trfu_blood_component_types.`id` = trfu_blood_components.`componentType_id`
 inner join `trfu_blood_component_history` trfu_blood_component_history on trfu_blood_components.`id` = trfu_blood_component_history.`component_id`
inner join `wf_history` wf_history on wf_history.`id`=trfu_blood_component_history.`history_entry_id`
WHERE
(trfu_blood_component_types.`value` LIKE '%эритроцит%взвесь%аферез%')
and trfu_blood_components.`deleted` = 0
 AND DATE(wf_history.`startDate`) >= DATE($P{StartDate})
 AND DATE(wf_history.`startDate`) <= DATE($P{EndDate})
 AND wf_history.`to_status_id` = -2
and trfu_blood_components.`status_id` = -2
) as table5]]>
		</queryString>
		<field name="ervzv_aferez_ostatok" class="java.math.BigDecimal"/>
		<field name="ervzv_aferez_eksped_volume" class="java.math.BigDecimal"/>
		<field name="ervzv_aferez_eksped_volume_dr" class="java.math.BigDecimal"/>
		<field name="trfu_blood_components_er_v_aferez" class="java.math.BigDecimal"/>
		<field name="ervzv_aferez_brak" class="java.math.BigDecimal"/>
		<variable name="ervzv_aferez_eksped_volume" class="java.math.BigDecimal">
			<variableExpression><![CDATA[$F{ervzv_aferez_eksped_volume}==null?(java.math.BigDecimal.valueOf(0)):$F{ervzv_aferez_eksped_volume}.divide(java.math.BigDecimal.valueOf(1000))]]></variableExpression>
		</variable>
		<variable name="ervzv_aferez_eksped_volume_dr" class="java.math.BigDecimal">
			<variableExpression><![CDATA[$F{ervzv_aferez_eksped_volume_dr}==null?(java.math.BigDecimal.valueOf(0)):$F{ervzv_aferez_eksped_volume_dr}.divide(java.math.BigDecimal.valueOf(1000))]]></variableExpression>
		</variable>
		<variable name="ervzv_aferez_ostatok" class="java.math.BigDecimal">
			<variableExpression><![CDATA[$F{ervzv_aferez_ostatok}==null?(java.math.BigDecimal.valueOf(0)):$F{ervzv_aferez_ostatok}.divide(java.math.BigDecimal.valueOf(1000))]]></variableExpression>
		</variable>
		<variable name="ervzv_aferez_rashod_volume" class="java.math.BigDecimal">
			<variableExpression><![CDATA[$F{trfu_blood_components_er_v_aferez}==null?(java.math.BigDecimal.valueOf(0)):$F{trfu_blood_components_er_v_aferez}.divide(java.math.BigDecimal.valueOf(1000))]]></variableExpression>
		</variable>
		<variable name="ervzv_aferez_brak_volume" class="java.math.BigDecimal">
			<variableExpression><![CDATA[$F{ervzv_aferez_brak}==null?(java.math.BigDecimal.valueOf(0)):$F{ervzv_aferez_brak}.divide(java.math.BigDecimal.valueOf(1000))]]></variableExpression>
		</variable>
		<variable name="ervzv_aferez_ostatok_volume" class="java.math.BigDecimal">
			<variableExpression><![CDATA[$V{ervzv_aferez_eksped_volume}.add($V{ervzv_aferez_eksped_volume_dr}).add($V{ervzv_aferez_ostatok}).subtract($V{ervzv_aferez_rashod_volume}).subtract($V{ervzv_aferez_brak_volume})]]></variableExpression>
		</variable>
	</subDataset>
	<subDataset name="Vsego_ost_rashod_tromb">
		<parameter name="StartDate" class="java.util.Date"/>
		<parameter name="EndDate" class="java.util.Date"/>
		<queryString>
			<![CDATA[SELECT * from
(SELECT sum(comp.volume)  as tromb_ostatok

FROM
  trfu_blood_components comp

INNER JOIN trfu_blood_component_types comp_types

ON comp.componentType_id = comp_types.id

INNER JOIN trfu_blood_component_history hist

ON comp.id = hist.component_id
INNER JOIN wf_history wf
ON hist.history_entry_id = wf.id
WHERE

  wf.to_status_id = 3

  AND wf.startDate = (
  SELECT max(wf_in.startDate)
  FROM

    trfu_blood_component_history hist_in
  INNER JOIN wf_history wf_in

  ON hist_in.history_entry_id = wf_in.id

  WHERE
    (wf_in.startDate) <= date($P{StartDate})

    AND hist_in.component_id = comp.id

  )
  AND (comp.expirationDate) >= adddate(($P{StartDate}),-1)
 AND (comp.status_id <> 100
  OR (comp.status_id = 100 and comp.splitDate>=($P{StartDate})))
  and comp.deleted=0
 and  (comp_types.`value` LIKE 'Тромбоцитный концентрат%')) as table1

JOIN

(select sum(trfu_blood_components.volume) as tromb_eksped_volume
FROM
     `trfu_blood_components` trfu_blood_components INNER JOIN `trfu_blood_donation_requests` trfu_blood_donation_requests ON trfu_blood_components.`donationId` = trfu_blood_donation_requests.`id`
     INNER JOIN `trfu_blood_donation_request_fact_entries` trfu_blood_donation_request_fact_entries ON trfu_blood_donation_requests.`id` = trfu_blood_donation_request_fact_entries.`donation_id`
     INNER JOIN `trfu_blood_donation_entries` trfu_blood_donation_entries ON trfu_blood_donation_request_fact_entries.`entry_id` = trfu_blood_donation_entries.`id`
     INNER JOIN `trfu_blood_component_types` trfu_blood_component_types ON trfu_blood_components.`componentType_id` = trfu_blood_component_types.`id`
     inner join `trfu_blood_component_history` trfu_blood_component_history on trfu_blood_components.`id` = trfu_blood_component_history.`component_id`
inner join `wf_history` wf_history on wf_history.`id`=trfu_blood_component_history.`history_entry_id`
     where
trfu_blood_donation_entries.`donationType_id` = 3
and trfu_blood_components.deleted=0
and trfu_blood_components.maker_id='11'
and trfu_blood_component_types.value like 'тромбоцит%' and trfu_blood_components.status_id!='-1'
  AND (wf_history.`from_status_id` = 1)
  AND wf_history.`to_status_id` = '3'
  AND trfu_blood_components.split = 0
 and date(startDate)>=date($P{StartDate}) and date(startDate)<=date($P{EndDate})) as table2

JOIN

(select sum(trfu_blood_components.`volume`)  as tromb_eksped_volume_dr
FROM
    `trfu_blood_components` trfu_blood_components
      INNER JOIN `trfu_blood_component_types` trfu_blood_component_types ON trfu_blood_components.`componentType_id` = trfu_blood_component_types.`id`
     where
 trfu_blood_components.maker_id!='11'
  and trfu_blood_components.deleted=0
and trfu_blood_component_types.value like 'Тромбоцит%' and trfu_blood_components.status_id!='-1'
and trfu_blood_components.split=false
and date(receivedDate)>=date($P{StartDate}) and date(receivedDate)<=date($P{EndDate})) as table3

JOIN

(select
sum(trfu_blood_components.`volume`) as trfu_blood_components_TK
FROM
 `trfu_blood_component_types` trfu_blood_component_types INNER JOIN `trfu_blood_components` trfu_blood_components ON trfu_blood_component_types.`id`
= trfu_blood_components.`componentType_id`
     left outer JOIN `trfu_blood_component_order_requests` trfu_blood_component_order_requests ON trfu_blood_components.`orderId` =
trfu_blood_component_order_requests.`id`
WHERE
     trfu_blood_components.`deleted` = 0
 AND DATE(trfu_blood_component_order_requests.`factDate`) >= DATE($P{StartDate})
 AND DATE(trfu_blood_component_order_requests.`factDate`) <= DATE($P{EndDate})
 AND trfu_blood_component_order_requests.`status_id` = 3
and (trfu_blood_component_types.`value` LIKE 'Тромбоцитный концентрат%')
) as table4

JOIN

(select
sum(trfu_blood_components.`volume`) as tromb_brak
FROM
     `trfu_blood_component_types` trfu_blood_component_types INNER JOIN `trfu_blood_components` trfu_blood_components ON trfu_blood_component_types.`id` = trfu_blood_components.`componentType_id`
 inner join `trfu_blood_component_history` trfu_blood_component_history on trfu_blood_components.`id` = trfu_blood_component_history.`component_id`
inner join `wf_history` wf_history on wf_history.`id`=trfu_blood_component_history.`history_entry_id`
WHERE
(trfu_blood_component_types.`value` LIKE 'Тромбоцитный концентрат%')
and trfu_blood_components.`deleted` = 0
 AND DATE(wf_history.`startDate`) >= DATE($P{StartDate})
 AND DATE(wf_history.`startDate`) <= DATE($P{EndDate})
 AND wf_history.`to_status_id` = -2
and trfu_blood_components.`status_id` = -2
) as table5]]>
		</queryString>
		<field name="tromb_ostatok" class="java.math.BigDecimal"/>
		<field name="tromb_eksped_volume" class="java.math.BigDecimal"/>
		<field name="tromb_eksped_volume_dr" class="java.math.BigDecimal"/>
		<field name="trfu_blood_components_TK" class="java.math.BigDecimal"/>
		<field name="tromb_brak" class="java.math.BigDecimal"/>
		<variable name="tromb_eksped_volume" class="java.math.BigDecimal">
			<variableExpression><![CDATA[$F{tromb_eksped_volume}==null?(java.math.BigDecimal.valueOf(0)):$F{tromb_eksped_volume}.divide(java.math.BigDecimal.valueOf(1000))]]></variableExpression>
		</variable>
		<variable name="tromb_eksped_volume_dr" class="java.math.BigDecimal">
			<variableExpression><![CDATA[$F{tromb_eksped_volume_dr}==null?(java.math.BigDecimal.valueOf(0)):$F{tromb_eksped_volume_dr}.divide(java.math.BigDecimal.valueOf(1000))]]></variableExpression>
		</variable>
		<variable name="tromb_ostatok" class="java.math.BigDecimal">
			<variableExpression><![CDATA[$F{tromb_ostatok}==null?(java.math.BigDecimal.valueOf(0)):$F{tromb_ostatok}.divide(java.math.BigDecimal.valueOf(1000))]]></variableExpression>
		</variable>
		<variable name="tromb_rashod_volume" class="java.math.BigDecimal">
			<variableExpression><![CDATA[$F{trfu_blood_components_TK}==null?(java.math.BigDecimal.valueOf(0)):$F{trfu_blood_components_TK}.divide(java.math.BigDecimal.valueOf(1000))]]></variableExpression>
		</variable>
		<variable name="tromb_brak_volume" class="java.math.BigDecimal">
			<variableExpression><![CDATA[$F{tromb_brak}==null?(java.math.BigDecimal.valueOf(0)):$F{tromb_brak}.divide(java.math.BigDecimal.valueOf(1000))]]></variableExpression>
		</variable>
		<variable name="tromb_ostatok_volume" class="java.math.BigDecimal">
			<variableExpression><![CDATA[$V{tromb_eksped_volume}.add($V{tromb_eksped_volume_dr}).add($V{tromb_ostatok}).subtract($V{tromb_rashod_volume}).subtract($V{tromb_brak_volume})]]></variableExpression>
		</variable>
	</subDataset>
	<parameter name="StartDate" class="java.util.Date"/>
	<parameter name="EndDate" class="java.util.Date"/>
	<parameter name="Institution" class="java.lang.String">
		<parameterDescription><![CDATA[]]></parameterDescription>
	</parameter>
	<parameter name="Division" class="java.lang.String"/>
	<parameter name="Manager" class="java.lang.String"/>
	<parameter name="Superintendent" class="java.lang.String"/>
	<queryString>
		<![CDATA[select comp.donationDate,type.value as comp_type, comp.autoApheresis as autoApheresis,
(CASE WHEN comp.status_id=3 and date(wf.startDate)<date($P{StartDate}) THEN comp.volume ELSE NULL END) as ostatok

 from trfu_blood_components comp
inner join trfu_blood_component_types type on comp.componentType_id=type.id
inner join trfu_blood_component_history comp_hist on comp_hist.component_id=comp.id
inner join wf_history wf on comp_hist.history_entry_id=wf.id
 where comp.componentType_id<>68 and comp.status_id<>-1
group by comp_type]]>
	</queryString>
	<field name="donationDate" class="java.sql.Timestamp"/>
	<field name="comp_type" class="java.lang.String"/>
	<field name="autoApheresis" class="java.lang.Boolean"/>
	<field name="ostatok" class="java.lang.Long"/>
	<background>
		<band splitType="Stretch"/>
	</background>
	<title>
		<band height="104" splitType="Stretch">
			<staticText>
				<reportElement x="197" y="10" width="398" height="52"/>
				<textElement textAlignment="Center">
					<font fontName="Tahoma" size="14" isBold="false"/>
				</textElement>
				<text><![CDATA[Ведомость учета движения крови и ее компонентов по отделу выдачи]]></text>
			</staticText>
			<line>
				<reportElement positionType="Float" x="0" y="62" width="184" height="1"/>
			</line>
			<staticText>
				<reportElement positionType="Float" x="0" y="62" width="184" height="17"/>
				<textElement textAlignment="Center" verticalAlignment="Middle">
					<font fontName="Tahoma" size="9"/>
				</textElement>
				<text><![CDATA[наименование учреждения]]></text>
			</staticText>
			<staticText>
				<reportElement x="197" y="84" width="109" height="20"/>
				<textElement textAlignment="Center" verticalAlignment="Bottom">
					<font fontName="Tahoma" size="9"/>
				</textElement>
				<text><![CDATA[за период с]]></text>
			</staticText>
			<line>
				<reportElement x="605" y="65" width="108" height="1"/>
			</line>
			<staticText>
				<reportElement x="622" y="10" width="74" height="22"/>
				<textElement textAlignment="Center" verticalAlignment="Middle">
					<font fontName="Tahoma" size="8" isBold="false"/>
				</textElement>
				<text><![CDATA[«УТВЕРЖДАЮ»]]></text>
			</staticText>
			<staticText>
				<reportElement x="591" y="68" width="137" height="16"/>
				<textElement textAlignment="Center" verticalAlignment="Middle">
					<font fontName="Tahoma" size="9"/>
				</textElement>
				<text><![CDATA[(руководитель учреждения)]]></text>
			</staticText>
			<staticText>
				<reportElement x="714" y="0" width="88" height="22"/>
				<textElement textAlignment="Right" verticalAlignment="Middle">
					<font fontName="Tahoma" size="10" isBold="false"/>
				</textElement>
				<text><![CDATA[Форма 423/у-П1]]></text>
			</staticText>
			<textField pattern="dd.MM.yyyy">
				<reportElement x="306" y="84" width="100" height="20"/>
				<textElement textAlignment="Center" verticalAlignment="Bottom">
					<font fontName="Tahoma"/>
				</textElement>
				<textFieldExpression><![CDATA[$P{StartDate}]]></textFieldExpression>
			</textField>
			<staticText>
				<reportElement x="406" y="84" width="36" height="20"/>
				<textElement textAlignment="Center" verticalAlignment="Bottom">
					<font fontName="Tahoma" size="9"/>
				</textElement>
				<text><![CDATA[по]]></text>
			</staticText>
			<textField pattern="dd.MM.yyyy">
				<reportElement x="442" y="84" width="100" height="20"/>
				<textElement textAlignment="Center" verticalAlignment="Bottom">
					<font fontName="Tahoma"/>
				</textElement>
				<textFieldExpression><![CDATA[$P{EndDate}]]></textFieldExpression>
			</textField>
			<textField isStretchWithOverflow="true">
				<reportElement positionType="Float" x="5" y="35" width="174" height="25"/>
				<textElement textAlignment="Center" verticalAlignment="Middle">
					<font fontName="Tahoma" size="9"/>
				</textElement>
				<textFieldExpression><![CDATA[$P{Division}]]></textFieldExpression>
			</textField>
			<textField isStretchWithOverflow="true">
				<reportElement positionType="Float" x="5" y="10" width="174" height="25"/>
				<textElement textAlignment="Center" verticalAlignment="Middle">
					<font fontName="Tahoma" size="9"/>
				</textElement>
				<textFieldExpression><![CDATA[$P{Institution}]]></textFieldExpression>
			</textField>
			<textField>
				<reportElement x="606" y="35" width="108" height="20"/>
				<textElement textAlignment="Center" verticalAlignment="Middle">
					<font fontName="Tahoma" size="9"/>
				</textElement>
				<textFieldExpression><![CDATA[$P{Manager}]]></textFieldExpression>
			</textField>
		</band>
	</title>
	<pageHeader>
		<band splitType="Stretch"/>
	</pageHeader>
	<columnHeader>
		<band height="83" splitType="Stretch">
			<staticText>
				<reportElement style="table_TD" x="126" y="0" width="26" height="83"/>
				<textElement textAlignment="Center" verticalAlignment="Top" rotation="Left">
					<font fontName="Tahoma" size="9"/>
				</textElement>
				<text><![CDATA[единицы измерения]]></text>
			</staticText>
			<staticText>
				<reportElement style="table_TD" x="152" y="0" width="62" height="83"/>
				<textElement textAlignment="Center" verticalAlignment="Middle">
					<font fontName="Tahoma" size="9"/>
				</textElement>
				<text><![CDATA[остаток на
дату]]></text>
			</staticText>
			<staticText>
				<reportElement style="table_TD" x="214" y="0" width="170" height="17"/>
				<textElement textAlignment="Center" verticalAlignment="Middle">
					<font fontName="Tahoma" size="9"/>
				</textElement>
				<text><![CDATA[приход]]></text>
			</staticText>
			<staticText>
				<reportElement style="table_TD" x="266" y="17" width="118" height="17"/>
				<textElement textAlignment="Center" verticalAlignment="Middle">
					<font fontName="Tahoma" size="9"/>
				</textElement>
				<text><![CDATA[в том числе]]></text>
			</staticText>
			<staticText>
				<reportElement style="table_TD" x="214" y="17" width="52" height="66"/>
				<textElement textAlignment="Center" verticalAlignment="Middle">
					<font fontName="Tahoma" size="9"/>
				</textElement>
				<text><![CDATA[всего
получено]]></text>
			</staticText>
			<staticText>
				<reportElement style="table_TD" x="266" y="34" width="54" height="49"/>
				<textElement textAlignment="Center" verticalAlignment="Middle">
					<font fontName="Tahoma" size="9"/>
				</textElement>
				<text><![CDATA[из отделов
СПК
(ОПК)]]></text>
			</staticText>
			<staticText>
				<reportElement style="table_TD" x="320" y="34" width="64" height="49"/>
				<textElement textAlignment="Center" verticalAlignment="Middle">
					<font fontName="Tahoma" size="9"/>
				</textElement>
				<text><![CDATA[из других
учреждений]]></text>
			</staticText>
			<staticText>
				<reportElement style="table_TD" x="442" y="0" width="42" height="83"/>
				<textElement textAlignment="Center" verticalAlignment="Middle">
					<font fontName="Tahoma" size="9"/>
				</textElement>
				<text><![CDATA[всего
выдано]]></text>
			</staticText>
			<staticText>
				<reportElement style="table_TD" x="484" y="17" width="220" height="17"/>
				<textElement textAlignment="Center" verticalAlignment="Middle">
					<font fontName="Tahoma" size="9"/>
				</textElement>
				<text><![CDATA[в том числе]]></text>
			</staticText>
			<staticText>
				<reportElement style="table_TD" x="484" y="0" width="220" height="17"/>
				<textElement textAlignment="Center" verticalAlignment="Middle">
					<font fontName="Tahoma" size="9"/>
				</textElement>
				<text><![CDATA[расход]]></text>
			</staticText>
			<staticText>
				<reportElement style="table_TD" x="484" y="34" width="64" height="49"/>
				<textElement textAlignment="Center" verticalAlignment="Middle">
					<font fontName="Tahoma" size="9"/>
				</textElement>
				<text><![CDATA[отд]]></text>
			</staticText>
			<staticText>
				<reportElement style="table_TD" x="548" y="34" width="43" height="49"/>
				<textElement textAlignment="Center" verticalAlignment="Middle">
					<font fontName="Tahoma" size="9"/>
				</textElement>
				<text><![CDATA[серол.]]></text>
			</staticText>
			<staticText>
				<reportElement style="table_TD" x="591" y="34" width="31" height="49"/>
				<textElement textAlignment="Center" verticalAlignment="Middle">
					<font fontName="Tahoma" size="9"/>
				</textElement>
				<text><![CDATA[бак.]]></text>
			</staticText>
			<staticText>
				<reportElement style="table_TD" x="668" y="34" width="36" height="49"/>
				<textElement textAlignment="Center" verticalAlignment="Middle">
					<font fontName="Tahoma" size="9"/>
				</textElement>
				<text><![CDATA[карант.]]></text>
			</staticText>
			<staticText>
				<reportElement style="table_TD" x="704" y="0" width="58" height="83"/>
				<textElement textAlignment="Center" verticalAlignment="Middle" rotation="None">
					<font fontName="Tahoma" size="9"/>
				</textElement>
				<text><![CDATA[Бой,
брак,
наруш.
герм.
]]></text>
			</staticText>
			<staticText>
				<reportElement style="table_TD" x="762" y="0" width="40" height="83"/>
				<textElement textAlignment="Center" verticalAlignment="Top" rotation="Left">
					<font fontName="Tahoma" size="9"/>
				</textElement>
				<text><![CDATA[остаток на дату]]></text>
			</staticText>
			<staticText>
				<reportElement style="table_TD" x="0" y="0" width="126" height="83"/>
				<textElement textAlignment="Center" verticalAlignment="Middle">
					<font fontName="Tahoma" size="9"/>
				</textElement>
				<text><![CDATA[наименование сред]]></text>
			</staticText>
			<textField pattern="dd.MM.yyyy">
				<reportElement x="152" y="58" width="62" height="20"/>
				<textElement textAlignment="Center" verticalAlignment="Bottom">
					<font fontName="Tahoma"/>
				</textElement>
				<textFieldExpression><![CDATA[$P{StartDate}]]></textFieldExpression>
			</textField>
			<staticText>
				<reportElement style="table_TD" x="622" y="34" width="46" height="49"/>
				<textElement textAlignment="Center" verticalAlignment="Middle">
					<font fontName="Tahoma" size="9"/>
				</textElement>
				<text><![CDATA[гем.]]></text>
			</staticText>
			<textField pattern="dd.MM.yyyy">
				<reportElement x="778" y="0" width="24" height="83"/>
				<textElement textAlignment="Center" verticalAlignment="Top" rotation="Left">
					<font fontName="Tahoma"/>
				</textElement>
				<textFieldExpression><![CDATA[$P{EndDate}]]></textFieldExpression>
			</textField>
			<staticText>
				<reportElement style="table_TD" x="384" y="0" width="58" height="83"/>
				<textElement textAlignment="Center" verticalAlignment="Middle">
					<font fontName="Tahoma" size="10" isBold="false"/>
				</textElement>
				<text><![CDATA[Всего с остатком]]></text>
			</staticText>
		</band>
	</columnHeader>
	<detail>
		<band splitType="Stretch"/>
	</detail>
	<columnFooter>
		<band splitType="Stretch"/>
	</columnFooter>
	<pageFooter>
		<band splitType="Stretch"/>
	</pageFooter>
	<summary>
		<band height="204" splitType="Stretch">
			<staticText>
				<reportElement style="table_TD" x="126" y="0" width="26" height="31"/>
				<textElement textAlignment="Center" verticalAlignment="Middle">
					<font fontName="Tahoma" size="9"/>
				</textElement>
				<text><![CDATA[л]]></text>
			</staticText>
			<staticText>
				<reportElement style="table_TD" x="0" y="0" width="126" height="31"/>
				<textElement textAlignment="Center" verticalAlignment="Middle">
					<font fontName="Tahoma" size="9"/>
				</textElement>
				<text><![CDATA[Эритроцитарная взвесь]]></text>
			</staticText>
			<staticText>
				<reportElement style="table_TD" x="0" y="31" width="126" height="31"/>
				<textElement textAlignment="Center" verticalAlignment="Middle">
					<font fontName="Tahoma" size="9"/>
				</textElement>
				<text><![CDATA[Эритроцитарная масса]]></text>
			</staticText>
			<staticText>
				<reportElement style="table_TD" x="126" y="31" width="26" height="31"/>
				<textElement textAlignment="Center" verticalAlignment="Middle">
					<font fontName="Tahoma" size="9"/>
				</textElement>
				<text><![CDATA[л]]></text>
			</staticText>
			<staticText>
				<reportElement style="table_TD" x="0" y="62" width="126" height="31"/>
				<textElement textAlignment="Center" verticalAlignment="Middle">
					<font fontName="Tahoma" size="9"/>
				</textElement>
				<text><![CDATA[Эритроцитарная взвесь аферезная]]></text>
			</staticText>
			<staticText>
				<reportElement style="table_TD" x="126" y="62" width="26" height="31"/>
				<textElement textAlignment="Center" verticalAlignment="Middle">
					<font fontName="Tahoma" size="9"/>
				</textElement>
				<text><![CDATA[л]]></text>
			</staticText>
			<staticText>
				<reportElement style="table_TD" x="0" y="93" width="126" height="31"/>
				<textElement textAlignment="Center" verticalAlignment="Middle">
					<font fontName="Tahoma" size="9"/>
				</textElement>
				<text><![CDATA[Концентрат тромбоцитов аферезный]]></text>
			</staticText>
			<staticText>
				<reportElement style="table_TD" x="126" y="93" width="26" height="31"/>
				<textElement textAlignment="Center" verticalAlignment="Middle">
					<font fontName="Tahoma" size="9"/>
				</textElement>
				<text><![CDATA[л]]></text>
			</staticText>
			<staticText>
				<reportElement style="table_TD" x="126" y="124" width="26" height="31"/>
				<textElement textAlignment="Center" verticalAlignment="Middle">
					<font fontName="Tahoma" size="9"/>
				</textElement>
				<text><![CDATA[л]]></text>
			</staticText>
			<staticText>
				<reportElement style="table_TD" x="0" y="124" width="126" height="31"/>
				<textElement textAlignment="Center" verticalAlignment="Middle">
					<font fontName="Tahoma" size="9"/>
				</textElement>
				<text><![CDATA[СЗП]]></text>
			</staticText>
			<componentElement>
				<reportElement key="table 1" x="152" y="0" width="290" height="31"/>
				<jr:table xmlns:jr="http://jasperreports.sourceforge.net/jasperreports/components" xsi:schemaLocation="http://jasperreports.sourceforge.net/jasperreports/components http://jasperreports.sourceforge.net/xsd/components.xsd" whenNoDataType="AllSectionsNoDetail">
					<datasetRun subDataset="Vsego_ost_rashod_ervzv">
						<datasetParameter name="StartDate">
							<datasetParameterExpression><![CDATA[$P{StartDate}]]></datasetParameterExpression>
						</datasetParameter>
						<datasetParameter name="EndDate">
							<datasetParameterExpression><![CDATA[$P{EndDate}]]></datasetParameterExpression>
						</datasetParameter>
						<connectionExpression><![CDATA[$P{REPORT_CONNECTION}]]></connectionExpression>
					</datasetRun>
					<jr:column width="62">
						<jr:tableFooter height="31" rowSpan="1">
							<textField pattern="###0.000">
								<reportElement x="0" y="0" width="62" height="31"/>
								<textElement textAlignment="Center">
									<font fontName="Tahoma"/>
								</textElement>
								<textFieldExpression><![CDATA[$V{ervzv_ostatok}]]></textFieldExpression>
							</textField>
						</jr:tableFooter>
						<jr:detailCell height="0" rowSpan="1"/>
					</jr:column>
					<jr:column width="52">
						<jr:tableFooter height="31" rowSpan="1">
							<textField pattern="###0.000">
								<reportElement style="table_TD" x="0" y="0" width="52" height="31"/>
								<textElement textAlignment="Center">
									<font fontName="Tahoma"/>
								</textElement>
								<textFieldExpression><![CDATA[$V{ervzv_eksped_volume}.add($V{ervzv_eksped_volume_dr})]]></textFieldExpression>
							</textField>
						</jr:tableFooter>
						<jr:detailCell height="0" rowSpan="1"/>
					</jr:column>
					<jr:column width="54">
						<jr:tableFooter height="31" rowSpan="1">
							<textField pattern="###0.000">
								<reportElement style="table_TD" x="0" y="0" width="54" height="31"/>
								<textElement textAlignment="Center">
									<font fontName="Tahoma"/>
								</textElement>
								<textFieldExpression><![CDATA[$V{ervzv_eksped_volume}]]></textFieldExpression>
							</textField>
						</jr:tableFooter>
						<jr:detailCell height="0" rowSpan="1"/>
					</jr:column>
					<jr:column width="64">
						<jr:tableFooter height="31" rowSpan="1">
							<textField pattern="###0.000">
								<reportElement style="table_TD" x="0" y="0" width="64" height="31"/>
								<textElement textAlignment="Center">
									<font fontName="Tahoma"/>
								</textElement>
								<textFieldExpression><![CDATA[$V{ervzv_eksped_volume_dr}]]></textFieldExpression>
							</textField>
						</jr:tableFooter>
						<jr:detailCell height="0" rowSpan="1"/>
					</jr:column>
					<jr:column width="58">
						<jr:tableFooter height="31" rowSpan="1">
							<textField pattern="###0.000">
								<reportElement style="table_TD" x="0" y="0" width="58" height="31"/>
								<textElement textAlignment="Center">
									<font fontName="Tahoma" isBold="false"/>
								</textElement>
								<textFieldExpression><![CDATA[$V{ervzv_eksped_volume}.add($V{ervzv_eksped_volume_dr}).add($V{ervzv_ostatok})]]></textFieldExpression>
							</textField>
						</jr:tableFooter>
						<jr:detailCell height="0" rowSpan="1"/>
					</jr:column>
				</jr:table>
			</componentElement>
			<staticText>
				<reportElement style="table_TD" x="548" y="0" width="43" height="31"/>
				<textElement textAlignment="Center" verticalAlignment="Middle">
					<font fontName="Tahoma" size="9"/>
				</textElement>
				<text><![CDATA[0]]></text>
			</staticText>
			<staticText>
				<reportElement style="table_TD" x="548" y="124" width="43" height="31"/>
				<textElement textAlignment="Center" verticalAlignment="Middle">
					<font fontName="Tahoma" size="9"/>
				</textElement>
				<text><![CDATA[0]]></text>
			</staticText>
			<staticText>
				<reportElement style="table_TD" x="548" y="93" width="43" height="31"/>
				<textElement textAlignment="Center" verticalAlignment="Middle">
					<font fontName="Tahoma" size="9"/>
				</textElement>
				<text><![CDATA[0]]></text>
			</staticText>
			<staticText>
				<reportElement style="table_TD" x="548" y="31" width="43" height="31"/>
				<textElement textAlignment="Center" verticalAlignment="Middle">
					<font fontName="Tahoma" size="9"/>
				</textElement>
				<text><![CDATA[0]]></text>
			</staticText>
			<staticText>
				<reportElement style="table_TD" x="548" y="62" width="43" height="31"/>
				<textElement textAlignment="Center" verticalAlignment="Middle">
					<font fontName="Tahoma" size="9"/>
				</textElement>
				<text><![CDATA[0]]></text>
			</staticText>
			<staticText>
				<reportElement style="table_TD" x="591" y="31" width="31" height="31"/>
				<textElement textAlignment="Center" verticalAlignment="Middle">
					<font fontName="Tahoma" size="9"/>
				</textElement>
				<text><![CDATA[0]]></text>
			</staticText>
			<staticText>
				<reportElement style="table_TD" x="591" y="124" width="31" height="31"/>
				<textElement textAlignment="Center" verticalAlignment="Middle">
					<font fontName="Tahoma" size="9"/>
				</textElement>
				<text><![CDATA[0]]></text>
			</staticText>
			<staticText>
				<reportElement style="table_TD" x="591" y="93" width="31" height="31"/>
				<textElement textAlignment="Center" verticalAlignment="Middle">
					<font fontName="Tahoma" size="9"/>
				</textElement>
				<text><![CDATA[0]]></text>
			</staticText>
			<staticText>
				<reportElement style="table_TD" x="591" y="62" width="31" height="31"/>
				<textElement textAlignment="Center" verticalAlignment="Middle">
					<font fontName="Tahoma" size="9"/>
				</textElement>
				<text><![CDATA[0]]></text>
			</staticText>
			<staticText>
				<reportElement style="table_TD" x="591" y="0" width="31" height="31"/>
				<textElement textAlignment="Center" verticalAlignment="Middle">
					<font fontName="Tahoma" size="9"/>
				</textElement>
				<text><![CDATA[0]]></text>
			</staticText>
			<staticText>
				<reportElement style="table_TD" x="622" y="31" width="46" height="31"/>
				<textElement textAlignment="Center" verticalAlignment="Middle">
					<font fontName="Tahoma" size="9"/>
				</textElement>
				<text><![CDATA[0]]></text>
			</staticText>
			<staticText>
				<reportElement style="table_TD" x="622" y="124" width="46" height="31"/>
				<textElement textAlignment="Center" verticalAlignment="Middle">
					<font fontName="Tahoma" size="9"/>
				</textElement>
				<text><![CDATA[0]]></text>
			</staticText>
			<staticText>
				<reportElement style="table_TD" x="622" y="93" width="46" height="31"/>
				<textElement textAlignment="Center" verticalAlignment="Middle">
					<font fontName="Tahoma" size="9"/>
				</textElement>
				<text><![CDATA[0]]></text>
			</staticText>
			<staticText>
				<reportElement style="table_TD" x="622" y="62" width="46" height="31"/>
				<textElement textAlignment="Center" verticalAlignment="Middle">
					<font fontName="Tahoma" size="9"/>
				</textElement>
				<text><![CDATA[0]]></text>
			</staticText>
			<staticText>
				<reportElement style="table_TD" x="622" y="0" width="46" height="31"/>
				<textElement textAlignment="Center" verticalAlignment="Middle">
					<font fontName="Tahoma" size="9"/>
				</textElement>
				<text><![CDATA[0]]></text>
			</staticText>
			<staticText>
				<reportElement style="table_TD" x="668" y="31" width="36" height="31"/>
				<textElement textAlignment="Center" verticalAlignment="Middle">
					<font fontName="Tahoma" size="9"/>
				</textElement>
				<text><![CDATA[0]]></text>
			</staticText>
			<staticText>
				<reportElement style="table_TD" x="668" y="124" width="36" height="31"/>
				<textElement textAlignment="Center" verticalAlignment="Middle">
					<font fontName="Tahoma" size="9"/>
				</textElement>
				<text><![CDATA[0]]></text>
			</staticText>
			<staticText>
				<reportElement style="table_TD" x="668" y="93" width="36" height="31"/>
				<textElement textAlignment="Center" verticalAlignment="Middle">
					<font fontName="Tahoma" size="9"/>
				</textElement>
				<text><![CDATA[0]]></text>
			</staticText>
			<staticText>
				<reportElement style="table_TD" x="668" y="62" width="36" height="31"/>
				<textElement textAlignment="Center" verticalAlignment="Middle">
					<font fontName="Tahoma" size="9"/>
				</textElement>
				<text><![CDATA[0]]></text>
			</staticText>
			<staticText>
				<reportElement style="table_TD" x="668" y="0" width="36" height="31"/>
				<textElement textAlignment="Center" verticalAlignment="Middle">
					<font fontName="Tahoma" size="9"/>
				</textElement>
				<text><![CDATA[0]]></text>
			</staticText>
			<componentElement>
				<reportElement key="table 4" x="704" y="124" width="98" height="31"/>
				<jr:table xmlns:jr="http://jasperreports.sourceforge.net/jasperreports/components" xsi:schemaLocation="http://jasperreports.sourceforge.net/jasperreports/components http://jasperreports.sourceforge.net/xsd/components.xsd" whenNoDataType="AllSectionsNoDetail">
					<datasetRun subDataset="Vsego_ost_plasm_rashod_plasm">
						<datasetParameter name="EndDate">
							<datasetParameterExpression><![CDATA[$P{EndDate}]]></datasetParameterExpression>
						</datasetParameter>
						<datasetParameter name="StartDate">
							<datasetParameterExpression><![CDATA[$P{StartDate}]]></datasetParameterExpression>
						</datasetParameter>
						<connectionExpression><![CDATA[$P{REPORT_CONNECTION}]]></connectionExpression>
					</datasetRun>
					<jr:column width="58">
						<jr:tableFooter height="31" rowSpan="1">
							<textField pattern="###0.000">
								<reportElement style="table_TD" x="0" y="0" width="58" height="31"/>
								<textElement textAlignment="Center">
									<font fontName="Tahoma"/>
								</textElement>
								<textFieldExpression><![CDATA[$V{plasm_brak_volume}]]></textFieldExpression>
							</textField>
						</jr:tableFooter>
						<jr:detailCell height="0" rowSpan="1"/>
					</jr:column>
					<jr:column width="40">
						<jr:tableFooter height="31" rowSpan="1">
							<textField pattern="###0.000">
								<reportElement style="table_TD" x="0" y="0" width="40" height="31"/>
								<textElement textAlignment="Center">
									<font fontName="Tahoma"/>
								</textElement>
								<textFieldExpression><![CDATA[$V{plasm_eksped_volume}.add($V{plasm_eksped_volume_dr}).add($V{plasm_ostatok}).subtract($V{plasm_rashod_volume}.add($V{plasm_brak_volume}))]]></textFieldExpression>
							</textField>
						</jr:tableFooter>
						<jr:detailCell height="0" rowSpan="1"/>
					</jr:column>
					<jr:column width="0">
						<jr:tableFooter height="31" rowSpan="1"/>
						<jr:detailCell height="0" rowSpan="1"/>
					</jr:column>
					<jr:column width="0">
						<jr:tableFooter height="31" rowSpan="1"/>
						<jr:detailCell height="0" rowSpan="1"/>
					</jr:column>
					<jr:column width="0">
						<jr:tableFooter height="31" rowSpan="1"/>
						<jr:detailCell height="0" rowSpan="1"/>
					</jr:column>
				</jr:table>
			</componentElement>
			<componentElement>
				<reportElement key="table 5" x="442" y="0" width="106" height="31"/>
				<jr:table xmlns:jr="http://jasperreports.sourceforge.net/jasperreports/components" xsi:schemaLocation="http://jasperreports.sourceforge.net/jasperreports/components http://jasperreports.sourceforge.net/xsd/components.xsd" whenNoDataType="AllSectionsNoDetail">
					<datasetRun subDataset="Vsego_ost_rashod_ervzv">
						<datasetParameter name="StartDate">
							<datasetParameterExpression><![CDATA[$P{StartDate}]]></datasetParameterExpression>
						</datasetParameter>
						<datasetParameter name="EndDate">
							<datasetParameterExpression><![CDATA[$P{EndDate}]]></datasetParameterExpression>
						</datasetParameter>
						<connectionExpression><![CDATA[$P{REPORT_CONNECTION}]]></connectionExpression>
					</datasetRun>
					<jr:column width="0">
						<jr:tableFooter height="31" rowSpan="1"/>
						<jr:detailCell height="0" rowSpan="1"/>
					</jr:column>
					<jr:column width="42">
						<jr:tableFooter height="31" rowSpan="1">
							<textField pattern="###0.000">
								<reportElement style="table_TD" x="0" y="0" width="42" height="31"/>
								<textElement textAlignment="Center">
									<font fontName="Tahoma"/>
								</textElement>
								<textFieldExpression><![CDATA[$V{ervzv_rashod_volume}]]></textFieldExpression>
							</textField>
						</jr:tableFooter>
						<jr:detailCell height="0" rowSpan="1"/>
					</jr:column>
					<jr:column width="64">
						<jr:tableFooter height="31" rowSpan="1">
							<textField pattern="###0.000">
								<reportElement style="table_TD" x="0" y="0" width="64" height="31"/>
								<textElement textAlignment="Center">
									<font fontName="Tahoma"/>
								</textElement>
								<textFieldExpression><![CDATA[$V{ervzv_rashod_volume}]]></textFieldExpression>
							</textField>
						</jr:tableFooter>
						<jr:detailCell height="0" rowSpan="1"/>
					</jr:column>
					<jr:column width="0">
						<jr:tableFooter height="31" rowSpan="1"/>
						<jr:detailCell height="0" rowSpan="1"/>
					</jr:column>
					<jr:column width="0">
						<jr:tableFooter height="31" rowSpan="1"/>
						<jr:detailCell height="0" rowSpan="1"/>
					</jr:column>
				</jr:table>
			</componentElement>
			<componentElement>
				<reportElement key="table 6" x="704" y="0" width="98" height="31"/>
				<jr:table xmlns:jr="http://jasperreports.sourceforge.net/jasperreports/components" xsi:schemaLocation="http://jasperreports.sourceforge.net/jasperreports/components http://jasperreports.sourceforge.net/xsd/components.xsd" whenNoDataType="AllSectionsNoDetail">
					<datasetRun subDataset="Vsego_ost_rashod_ervzv">
						<datasetParameter name="EndDate">
							<datasetParameterExpression><![CDATA[$P{EndDate}]]></datasetParameterExpression>
						</datasetParameter>
						<datasetParameter name="StartDate">
							<datasetParameterExpression><![CDATA[$P{StartDate}]]></datasetParameterExpression>
						</datasetParameter>
						<connectionExpression><![CDATA[$P{REPORT_CONNECTION}]]></connectionExpression>
					</datasetRun>
					<jr:column width="58">
						<jr:tableFooter height="31" rowSpan="1">
							<textField pattern="###0.000">
								<reportElement style="table_TD" x="0" y="0" width="58" height="31"/>
								<textElement textAlignment="Center">
									<font fontName="Tahoma"/>
								</textElement>
								<textFieldExpression><![CDATA[$V{ervzv_brak_volume}]]></textFieldExpression>
							</textField>
						</jr:tableFooter>
						<jr:detailCell height="0" rowSpan="1"/>
					</jr:column>
					<jr:column width="40">
						<jr:tableFooter height="31" rowSpan="1">
							<textField pattern="###0.000">
								<reportElement style="table_TD" x="0" y="0" width="40" height="31"/>
								<textElement textAlignment="Center">
									<font fontName="Tahoma"/>
								</textElement>
								<textFieldExpression><![CDATA[$V{ervzv_ostatok_volume}]]></textFieldExpression>
							</textField>
						</jr:tableFooter>
						<jr:detailCell height="0" rowSpan="1"/>
					</jr:column>
					<jr:column width="0">
						<jr:tableFooter height="31" rowSpan="1"/>
						<jr:detailCell height="0" rowSpan="1"/>
					</jr:column>
					<jr:column width="0">
						<jr:tableFooter height="31" rowSpan="1"/>
						<jr:detailCell height="0" rowSpan="1"/>
					</jr:column>
					<jr:column width="0">
						<jr:tableFooter height="31" rowSpan="1"/>
						<jr:detailCell height="0" rowSpan="1"/>
					</jr:column>
				</jr:table>
			</componentElement>
			<componentElement>
				<reportElement key="table 7" x="442" y="31" width="106" height="31"/>
				<jr:table xmlns:jr="http://jasperreports.sourceforge.net/jasperreports/components" xsi:schemaLocation="http://jasperreports.sourceforge.net/jasperreports/components http://jasperreports.sourceforge.net/xsd/components.xsd" whenNoDataType="AllSectionsNoDetail">
					<datasetRun subDataset="Vsego_ost_rashod_ermassa">
						<datasetParameter name="StartDate">
							<datasetParameterExpression><![CDATA[$P{StartDate}]]></datasetParameterExpression>
						</datasetParameter>
						<datasetParameter name="EndDate">
							<datasetParameterExpression><![CDATA[$P{EndDate}]]></datasetParameterExpression>
						</datasetParameter>
						<connectionExpression><![CDATA[$P{REPORT_CONNECTION}]]></connectionExpression>
					</datasetRun>
					<jr:column width="0">
						<jr:tableFooter height="31" rowSpan="1"/>
						<jr:detailCell height="0" rowSpan="1"/>
					</jr:column>
					<jr:column width="42">
						<jr:tableFooter height="31" rowSpan="1">
							<textField pattern="###0.000">
								<reportElement style="table_TD" x="0" y="0" width="42" height="31"/>
								<textElement textAlignment="Center">
									<font fontName="Tahoma"/>
								</textElement>
								<textFieldExpression><![CDATA[$V{erm_rashod_volume}]]></textFieldExpression>
							</textField>
						</jr:tableFooter>
						<jr:detailCell height="0" rowSpan="1"/>
					</jr:column>
					<jr:column width="64">
						<jr:tableFooter height="31" rowSpan="1">
							<textField pattern="###0.000">
								<reportElement style="table_TD" x="0" y="0" width="64" height="31"/>
								<textElement textAlignment="Center">
									<font fontName="Tahoma"/>
								</textElement>
								<textFieldExpression><![CDATA[$V{erm_rashod_volume}]]></textFieldExpression>
							</textField>
						</jr:tableFooter>
						<jr:detailCell height="0" rowSpan="1"/>
					</jr:column>
					<jr:column width="0">
						<jr:tableFooter height="31" rowSpan="1"/>
						<jr:detailCell height="0" rowSpan="1"/>
					</jr:column>
					<jr:column width="0">
						<jr:tableFooter height="31" rowSpan="1"/>
						<jr:detailCell height="0" rowSpan="1"/>
					</jr:column>
				</jr:table>
			</componentElement>
			<componentElement>
				<reportElement key="table 8" x="704" y="31" width="98" height="31"/>
				<jr:table xmlns:jr="http://jasperreports.sourceforge.net/jasperreports/components" xsi:schemaLocation="http://jasperreports.sourceforge.net/jasperreports/components http://jasperreports.sourceforge.net/xsd/components.xsd" whenNoDataType="AllSectionsNoDetail">
					<datasetRun subDataset="Vsego_ost_rashod_ermassa">
						<datasetParameter name="EndDate">
							<datasetParameterExpression><![CDATA[$P{EndDate}]]></datasetParameterExpression>
						</datasetParameter>
						<datasetParameter name="StartDate">
							<datasetParameterExpression><![CDATA[$P{StartDate}]]></datasetParameterExpression>
						</datasetParameter>
						<connectionExpression><![CDATA[$P{REPORT_CONNECTION}]]></connectionExpression>
					</datasetRun>
					<jr:column width="58">
						<jr:tableFooter height="31" rowSpan="1">
							<textField pattern="###0.000">
								<reportElement style="table_TD" x="0" y="0" width="58" height="31"/>
								<textElement textAlignment="Center">
									<font fontName="Tahoma"/>
								</textElement>
								<textFieldExpression><![CDATA[$V{erm_brak_volume}]]></textFieldExpression>
							</textField>
						</jr:tableFooter>
						<jr:detailCell height="0" rowSpan="1"/>
					</jr:column>
					<jr:column width="40">
						<jr:tableFooter height="31" rowSpan="1">
							<textField pattern="###0.000">
								<reportElement style="table_TD" x="0" y="0" width="40" height="31"/>
								<textElement textAlignment="Center">
									<font fontName="Tahoma"/>
								</textElement>
								<textFieldExpression><![CDATA[$V{erm_ostatok_volume}]]></textFieldExpression>
							</textField>
						</jr:tableFooter>
						<jr:detailCell height="0" rowSpan="1"/>
					</jr:column>
					<jr:column width="0">
						<jr:tableFooter height="31" rowSpan="1"/>
						<jr:detailCell height="0" rowSpan="1"/>
					</jr:column>
					<jr:column width="0">
						<jr:tableFooter height="31" rowSpan="1"/>
						<jr:detailCell height="0" rowSpan="1"/>
					</jr:column>
					<jr:column width="0">
						<jr:tableFooter height="31" rowSpan="1"/>
						<jr:detailCell height="0" rowSpan="1"/>
					</jr:column>
				</jr:table>
			</componentElement>
			<componentElement>
				<reportElement key="table 9" x="442" y="62" width="106" height="31"/>
				<jr:table xmlns:jr="http://jasperreports.sourceforge.net/jasperreports/components" xsi:schemaLocation="http://jasperreports.sourceforge.net/jasperreports/components http://jasperreports.sourceforge.net/xsd/components.xsd" whenNoDataType="AllSectionsNoDetail">
					<datasetRun subDataset="Vsego_ost_rashod_erv_aferez">
						<datasetParameter name="StartDate">
							<datasetParameterExpression><![CDATA[$P{StartDate}]]></datasetParameterExpression>
						</datasetParameter>
						<datasetParameter name="EndDate">
							<datasetParameterExpression><![CDATA[$P{EndDate}]]></datasetParameterExpression>
						</datasetParameter>
						<connectionExpression><![CDATA[$P{REPORT_CONNECTION}]]></connectionExpression>
					</datasetRun>
					<jr:column width="0">
						<jr:tableFooter height="31" rowSpan="1"/>
						<jr:detailCell height="0" rowSpan="1"/>
					</jr:column>
					<jr:column width="42">
						<jr:tableFooter height="31" rowSpan="1">
							<textField pattern="###0.000">
								<reportElement style="table_TD" x="0" y="0" width="42" height="31"/>
								<textElement textAlignment="Center">
									<font fontName="Tahoma"/>
								</textElement>
								<textFieldExpression><![CDATA[$V{ervzv_aferez_rashod_volume}]]></textFieldExpression>
							</textField>
						</jr:tableFooter>
						<jr:detailCell height="0" rowSpan="1"/>
					</jr:column>
					<jr:column width="64">
						<jr:tableFooter height="31" rowSpan="1">
							<textField pattern="###0.000">
								<reportElement style="table_TD" x="0" y="0" width="64" height="31"/>
								<textElement textAlignment="Center">
									<font fontName="Tahoma"/>
								</textElement>
								<textFieldExpression><![CDATA[$V{ervzv_aferez_rashod_volume}]]></textFieldExpression>
							</textField>
						</jr:tableFooter>
						<jr:detailCell height="0" rowSpan="1"/>
					</jr:column>
					<jr:column width="0">
						<jr:tableFooter height="31" rowSpan="1"/>
						<jr:detailCell height="0" rowSpan="1"/>
					</jr:column>
					<jr:column width="0">
						<jr:tableFooter height="31" rowSpan="1"/>
						<jr:detailCell height="0" rowSpan="1"/>
					</jr:column>
				</jr:table>
			</componentElement>
			<componentElement>
				<reportElement key="table 9" x="442" y="93" width="106" height="31"/>
				<jr:table xmlns:jr="http://jasperreports.sourceforge.net/jasperreports/components" xsi:schemaLocation="http://jasperreports.sourceforge.net/jasperreports/components http://jasperreports.sourceforge.net/xsd/components.xsd" whenNoDataType="AllSectionsNoDetail">
					<datasetRun subDataset="Vsego_ost_rashod_tromb">
						<datasetParameter name="StartDate">
							<datasetParameterExpression><![CDATA[$P{StartDate}]]></datasetParameterExpression>
						</datasetParameter>
						<datasetParameter name="EndDate">
							<datasetParameterExpression><![CDATA[$P{EndDate}]]></datasetParameterExpression>
						</datasetParameter>
						<connectionExpression><![CDATA[$P{REPORT_CONNECTION}]]></connectionExpression>
					</datasetRun>
					<jr:column width="0">
						<jr:tableFooter height="31" rowSpan="1"/>
						<jr:detailCell height="0" rowSpan="1"/>
					</jr:column>
					<jr:column width="42">
						<jr:tableFooter height="31" rowSpan="1">
							<textField pattern="###0.000">
								<reportElement style="table_TD" x="0" y="0" width="42" height="31"/>
								<textElement textAlignment="Center">
									<font fontName="Tahoma"/>
								</textElement>
								<textFieldExpression><![CDATA[$V{tromb_rashod_volume}]]></textFieldExpression>
							</textField>
						</jr:tableFooter>
						<jr:detailCell height="0" rowSpan="1"/>
					</jr:column>
					<jr:column width="64">
						<jr:tableFooter height="31" rowSpan="1">
							<textField pattern="###0.000">
								<reportElement style="table_TD" x="0" y="0" width="64" height="31"/>
								<textElement textAlignment="Center">
									<font fontName="Tahoma"/>
								</textElement>
								<textFieldExpression><![CDATA[$V{tromb_rashod_volume}]]></textFieldExpression>
							</textField>
						</jr:tableFooter>
						<jr:detailCell height="0" rowSpan="1"/>
					</jr:column>
					<jr:column width="0">
						<jr:tableFooter height="31" rowSpan="1"/>
						<jr:detailCell height="0" rowSpan="1"/>
					</jr:column>
					<jr:column width="0">
						<jr:tableFooter height="31" rowSpan="1"/>
						<jr:detailCell height="0" rowSpan="1"/>
					</jr:column>
				</jr:table>
			</componentElement>
			<componentElement>
				<reportElement key="table 10" x="704" y="93" width="98" height="31"/>
				<jr:table xmlns:jr="http://jasperreports.sourceforge.net/jasperreports/components" xsi:schemaLocation="http://jasperreports.sourceforge.net/jasperreports/components http://jasperreports.sourceforge.net/xsd/components.xsd" whenNoDataType="AllSectionsNoDetail">
					<datasetRun subDataset="Vsego_ost_rashod_tromb">
						<datasetParameter name="EndDate">
							<datasetParameterExpression><![CDATA[$P{EndDate}]]></datasetParameterExpression>
						</datasetParameter>
						<datasetParameter name="StartDate">
							<datasetParameterExpression><![CDATA[$P{StartDate}]]></datasetParameterExpression>
						</datasetParameter>
						<connectionExpression><![CDATA[$P{REPORT_CONNECTION}]]></connectionExpression>
					</datasetRun>
					<jr:column width="58">
						<jr:tableFooter height="31" rowSpan="1">
							<textField pattern="###0.000">
								<reportElement style="table_TD" x="0" y="0" width="58" height="31"/>
								<textElement textAlignment="Center">
									<font fontName="Tahoma"/>
								</textElement>
								<textFieldExpression><![CDATA[$V{tromb_brak_volume}]]></textFieldExpression>
							</textField>
						</jr:tableFooter>
						<jr:detailCell height="0" rowSpan="1"/>
					</jr:column>
					<jr:column width="40">
						<jr:tableFooter height="31" rowSpan="1">
							<textField pattern="###0.000">
								<reportElement style="table_TD" x="0" y="0" width="40" height="31"/>
								<textElement textAlignment="Center">
									<font fontName="Tahoma"/>
								</textElement>
								<textFieldExpression><![CDATA[$V{tromb_ostatok_volume}]]></textFieldExpression>
							</textField>
						</jr:tableFooter>
						<jr:detailCell height="0" rowSpan="1"/>
					</jr:column>
					<jr:column width="0">
						<jr:tableFooter height="31" rowSpan="1"/>
						<jr:detailCell height="0" rowSpan="1"/>
					</jr:column>
					<jr:column width="0">
						<jr:tableFooter height="31" rowSpan="1"/>
						<jr:detailCell height="0" rowSpan="1"/>
					</jr:column>
					<jr:column width="0">
						<jr:tableFooter height="31" rowSpan="1"/>
						<jr:detailCell height="0" rowSpan="1"/>
					</jr:column>
				</jr:table>
			</componentElement>
			<componentElement>
				<reportElement key="table 11" x="704" y="62" width="98" height="31"/>
				<jr:table xmlns:jr="http://jasperreports.sourceforge.net/jasperreports/components" xsi:schemaLocation="http://jasperreports.sourceforge.net/jasperreports/components http://jasperreports.sourceforge.net/xsd/components.xsd" whenNoDataType="AllSectionsNoDetail">
					<datasetRun subDataset="Vsego_ost_rashod_erv_aferez">
						<datasetParameter name="EndDate">
							<datasetParameterExpression><![CDATA[$P{EndDate}]]></datasetParameterExpression>
						</datasetParameter>
						<datasetParameter name="StartDate">
							<datasetParameterExpression><![CDATA[$P{StartDate}]]></datasetParameterExpression>
						</datasetParameter>
						<connectionExpression><![CDATA[$P{REPORT_CONNECTION}]]></connectionExpression>
					</datasetRun>
					<jr:column width="58">
						<jr:tableFooter height="31" rowSpan="1">
							<textField pattern="###0.000">
								<reportElement style="table_TD" x="0" y="0" width="58" height="31"/>
								<textElement textAlignment="Center">
									<font fontName="Tahoma"/>
								</textElement>
								<textFieldExpression><![CDATA[$V{ervzv_aferez_brak_volume}]]></textFieldExpression>
							</textField>
						</jr:tableFooter>
						<jr:detailCell height="0" rowSpan="1"/>
					</jr:column>
					<jr:column width="40">
						<jr:tableFooter height="31" rowSpan="1">
							<textField pattern="###0.000">
								<reportElement style="table_TD" x="0" y="0" width="40" height="31"/>
								<textElement textAlignment="Center">
									<font fontName="Tahoma"/>
								</textElement>
								<textFieldExpression><![CDATA[$V{ervzv_aferez_ostatok_volume}]]></textFieldExpression>
							</textField>
						</jr:tableFooter>
						<jr:detailCell height="0" rowSpan="1"/>
					</jr:column>
					<jr:column width="0">
						<jr:tableFooter height="31" rowSpan="1"/>
						<jr:detailCell height="0" rowSpan="1"/>
					</jr:column>
					<jr:column width="0">
						<jr:tableFooter height="31" rowSpan="1"/>
						<jr:detailCell height="0" rowSpan="1"/>
					</jr:column>
					<jr:column width="0">
						<jr:tableFooter height="31" rowSpan="1"/>
						<jr:detailCell height="0" rowSpan="1"/>
					</jr:column>
				</jr:table>
			</componentElement>
			<componentElement>
				<reportElement key="table 12" x="152" y="31" width="290" height="31"/>
				<jr:table xmlns:jr="http://jasperreports.sourceforge.net/jasperreports/components" xsi:schemaLocation="http://jasperreports.sourceforge.net/jasperreports/components http://jasperreports.sourceforge.net/xsd/components.xsd" whenNoDataType="AllSectionsNoDetail">
					<datasetRun subDataset="Vsego_ost_rashod_ermassa">
						<datasetParameter name="StartDate">
							<datasetParameterExpression><![CDATA[$P{StartDate}]]></datasetParameterExpression>
						</datasetParameter>
						<datasetParameter name="EndDate">
							<datasetParameterExpression><![CDATA[$P{EndDate}]]></datasetParameterExpression>
						</datasetParameter>
						<connectionExpression><![CDATA[$P{REPORT_CONNECTION}]]></connectionExpression>
					</datasetRun>
					<jr:column width="62">
						<jr:tableFooter height="31" rowSpan="1">
							<textField pattern="###0.000">
								<reportElement style="table_TD" x="0" y="0" width="62" height="31"/>
								<textElement textAlignment="Center">
									<font fontName="Tahoma"/>
								</textElement>
								<textFieldExpression><![CDATA[$V{erm_ostatok}]]></textFieldExpression>
							</textField>
						</jr:tableFooter>
						<jr:detailCell height="0" rowSpan="1"/>
					</jr:column>
					<jr:column width="52">
						<jr:tableFooter height="31" rowSpan="1">
							<textField pattern="###0.000">
								<reportElement style="table_TD" x="0" y="0" width="52" height="31"/>
								<textElement textAlignment="Center">
									<font fontName="Tahoma"/>
								</textElement>
								<textFieldExpression><![CDATA[$V{erm_eksped_volume}.add($V{erm_eksped_volume_dr})]]></textFieldExpression>
							</textField>
						</jr:tableFooter>
						<jr:detailCell height="0" rowSpan="1"/>
					</jr:column>
					<jr:column width="54">
						<jr:tableFooter height="31" rowSpan="1">
							<textField pattern="###0.000">
								<reportElement style="table_TD" x="0" y="0" width="54" height="31"/>
								<textElement textAlignment="Center">
									<font fontName="Tahoma"/>
								</textElement>
								<textFieldExpression><![CDATA[$V{erm_eksped_volume}]]></textFieldExpression>
							</textField>
						</jr:tableFooter>
						<jr:detailCell height="0" rowSpan="1"/>
					</jr:column>
					<jr:column width="64">
						<jr:tableFooter height="31" rowSpan="1">
							<textField pattern="###0.000">
								<reportElement style="table_TD" x="0" y="0" width="64" height="31"/>
								<textElement textAlignment="Center">
									<font fontName="Tahoma"/>
								</textElement>
								<textFieldExpression><![CDATA[$V{erm_eksped_volume_dr}]]></textFieldExpression>
							</textField>
						</jr:tableFooter>
						<jr:detailCell height="0" rowSpan="1"/>
					</jr:column>
					<jr:column width="58">
						<jr:tableFooter height="31" rowSpan="1">
							<textField pattern="###0.000">
								<reportElement style="table_TD" x="0" y="0" width="58" height="31"/>
								<textElement textAlignment="Center">
									<font fontName="Tahoma" isBold="false"/>
								</textElement>
								<textFieldExpression><![CDATA[$V{erm_eksped_volume}.add($V{erm_eksped_volume_dr}).add($V{erm_ostatok})]]></textFieldExpression>
							</textField>
						</jr:tableFooter>
						<jr:detailCell height="0" rowSpan="1"/>
					</jr:column>
				</jr:table>
			</componentElement>
			<componentElement>
				<reportElement key="table 13" x="152" y="62" width="290" height="31"/>
				<jr:table xmlns:jr="http://jasperreports.sourceforge.net/jasperreports/components" xsi:schemaLocation="http://jasperreports.sourceforge.net/jasperreports/components http://jasperreports.sourceforge.net/xsd/components.xsd" whenNoDataType="AllSectionsNoDetail">
					<datasetRun subDataset="Vsego_ost_rashod_erv_aferez">
						<datasetParameter name="StartDate">
							<datasetParameterExpression><![CDATA[$P{StartDate}]]></datasetParameterExpression>
						</datasetParameter>
						<datasetParameter name="EndDate">
							<datasetParameterExpression><![CDATA[$P{EndDate}]]></datasetParameterExpression>
						</datasetParameter>
						<connectionExpression><![CDATA[$P{REPORT_CONNECTION}]]></connectionExpression>
					</datasetRun>
					<jr:column width="62">
						<jr:tableFooter height="31" rowSpan="1">
							<textField pattern="###0.000">
								<reportElement style="table_TD" x="0" y="0" width="62" height="31"/>
								<textElement textAlignment="Center">
									<font fontName="Tahoma"/>
								</textElement>
								<textFieldExpression><![CDATA[$V{ervzv_aferez_ostatok}]]></textFieldExpression>
							</textField>
						</jr:tableFooter>
						<jr:detailCell height="0" rowSpan="1"/>
					</jr:column>
					<jr:column width="52">
						<jr:tableFooter height="31" rowSpan="1">
							<textField pattern="###0.000">
								<reportElement style="table_TD" x="0" y="0" width="52" height="31"/>
								<textElement textAlignment="Center">
									<font fontName="Tahoma"/>
								</textElement>
								<textFieldExpression><![CDATA[$V{ervzv_aferez_eksped_volume}.add($V{ervzv_aferez_eksped_volume_dr})]]></textFieldExpression>
							</textField>
						</jr:tableFooter>
						<jr:detailCell height="0" rowSpan="1"/>
					</jr:column>
					<jr:column width="54">
						<jr:tableFooter height="31" rowSpan="1">
							<textField pattern="###0.000">
								<reportElement style="table_TD" x="0" y="0" width="54" height="31"/>
								<textElement textAlignment="Center">
									<font fontName="Tahoma"/>
								</textElement>
								<textFieldExpression><![CDATA[$V{ervzv_aferez_eksped_volume}]]></textFieldExpression>
							</textField>
						</jr:tableFooter>
						<jr:detailCell height="0" rowSpan="1"/>
					</jr:column>
					<jr:column width="64">
						<jr:tableFooter height="31" rowSpan="1">
							<textField pattern="###0.000">
								<reportElement style="table_TD" x="0" y="0" width="64" height="31"/>
								<textElement textAlignment="Center">
									<font fontName="Tahoma"/>
								</textElement>
								<textFieldExpression><![CDATA[$V{ervzv_aferez_eksped_volume_dr}]]></textFieldExpression>
							</textField>
						</jr:tableFooter>
						<jr:detailCell height="0" rowSpan="1"/>
					</jr:column>
					<jr:column width="58">
						<jr:tableFooter height="31" rowSpan="1">
							<textField pattern="###0.000">
								<reportElement style="table_TD" x="0" y="0" width="58" height="31"/>
								<textElement textAlignment="Center">
									<font fontName="Tahoma" isBold="false"/>
								</textElement>
								<textFieldExpression><![CDATA[$V{ervzv_aferez_eksped_volume}.add($V{ervzv_aferez_eksped_volume_dr}).add($V{ervzv_aferez_ostatok})]]></textFieldExpression>
							</textField>
						</jr:tableFooter>
						<jr:detailCell height="0" rowSpan="1"/>
					</jr:column>
				</jr:table>
			</componentElement>
			<componentElement>
				<reportElement key="table 14" x="152" y="93" width="290" height="31"/>
				<jr:table xmlns:jr="http://jasperreports.sourceforge.net/jasperreports/components" xsi:schemaLocation="http://jasperreports.sourceforge.net/jasperreports/components http://jasperreports.sourceforge.net/xsd/components.xsd" whenNoDataType="AllSectionsNoDetail">
					<datasetRun subDataset="Vsego_ost_rashod_tromb">
						<datasetParameter name="StartDate">
							<datasetParameterExpression><![CDATA[$P{StartDate}]]></datasetParameterExpression>
						</datasetParameter>
						<datasetParameter name="EndDate">
							<datasetParameterExpression><![CDATA[$P{EndDate}]]></datasetParameterExpression>
						</datasetParameter>
						<connectionExpression><![CDATA[$P{REPORT_CONNECTION}]]></connectionExpression>
					</datasetRun>
					<jr:column width="62">
						<jr:tableFooter height="31" rowSpan="1">
							<textField pattern="###0.000">
								<reportElement style="table_TD" x="0" y="0" width="62" height="31"/>
								<textElement textAlignment="Center">
									<font fontName="Tahoma"/>
								</textElement>
								<textFieldExpression><![CDATA[$V{tromb_ostatok}]]></textFieldExpression>
							</textField>
						</jr:tableFooter>
						<jr:detailCell height="0" rowSpan="1"/>
					</jr:column>
					<jr:column width="52">
						<jr:tableFooter height="31" rowSpan="1">
							<textField pattern="###0.000">
								<reportElement style="table_TD" x="0" y="0" width="52" height="31"/>
								<textElement textAlignment="Center">
									<font fontName="Tahoma"/>
								</textElement>
								<textFieldExpression><![CDATA[$V{tromb_eksped_volume}.add($V{tromb_eksped_volume_dr})]]></textFieldExpression>
							</textField>
						</jr:tableFooter>
						<jr:detailCell height="0" rowSpan="1"/>
					</jr:column>
					<jr:column width="54">
						<jr:tableFooter height="31" rowSpan="1">
							<textField pattern="###0.000">
								<reportElement style="table_TD" x="0" y="0" width="54" height="31"/>
								<textElement textAlignment="Center">
									<font fontName="Tahoma"/>
								</textElement>
								<textFieldExpression><![CDATA[$V{tromb_eksped_volume}]]></textFieldExpression>
							</textField>
						</jr:tableFooter>
						<jr:detailCell height="0" rowSpan="1"/>
					</jr:column>
					<jr:column width="64">
						<jr:tableFooter height="31" rowSpan="1">
							<textField pattern="###0.000">
								<reportElement style="table_TD" x="0" y="0" width="64" height="31"/>
								<textElement textAlignment="Center">
									<font fontName="Tahoma"/>
								</textElement>
								<textFieldExpression><![CDATA[$V{tromb_eksped_volume_dr}]]></textFieldExpression>
							</textField>
						</jr:tableFooter>
						<jr:detailCell height="0" rowSpan="1"/>
					</jr:column>
					<jr:column width="58">
						<jr:tableFooter height="31" rowSpan="1">
							<textField pattern="###0.000">
								<reportElement style="table_TD" x="0" y="0" width="58" height="31"/>
								<textElement textAlignment="Center">
									<font fontName="Tahoma" isBold="false"/>
								</textElement>
								<textFieldExpression><![CDATA[$V{tromb_eksped_volume}.add($V{tromb_eksped_volume_dr}).add($V{tromb_ostatok})]]></textFieldExpression>
							</textField>
						</jr:tableFooter>
						<jr:detailCell height="0" rowSpan="1"/>
					</jr:column>
				</jr:table>
			</componentElement>
			<componentElement>
				<reportElement key="table 15" x="152" y="124" width="396" height="31"/>
				<jr:table xmlns:jr="http://jasperreports.sourceforge.net/jasperreports/components" xsi:schemaLocation="http://jasperreports.sourceforge.net/jasperreports/components http://jasperreports.sourceforge.net/xsd/components.xsd" whenNoDataType="AllSectionsNoDetail">
					<datasetRun subDataset="Vsego_ost_plasm_rashod_plasm">
						<datasetParameter name="StartDate">
							<datasetParameterExpression><![CDATA[$P{StartDate}]]></datasetParameterExpression>
						</datasetParameter>
						<datasetParameter name="EndDate">
							<datasetParameterExpression><![CDATA[$P{EndDate}]]></datasetParameterExpression>
						</datasetParameter>
						<connectionExpression><![CDATA[$P{REPORT_CONNECTION}]]></connectionExpression>
					</datasetRun>
					<jr:column width="62">
						<jr:tableFooter height="31" rowSpan="1">
							<textField pattern="###0.000">
								<reportElement style="table_TD" x="0" y="0" width="62" height="31"/>
								<textElement textAlignment="Center">
									<font fontName="Tahoma"/>
								</textElement>
								<textFieldExpression><![CDATA[$V{plasm_ostatok}]]></textFieldExpression>
							</textField>
						</jr:tableFooter>
						<jr:detailCell height="0" rowSpan="1"/>
					</jr:column>
					<jr:column width="52">
						<jr:tableFooter height="31" rowSpan="1">
							<textField pattern="###0.000">
								<reportElement style="table_TD" x="0" y="0" width="52" height="31"/>
								<textElement textAlignment="Center">
									<font fontName="Tahoma"/>
								</textElement>
								<textFieldExpression><![CDATA[$V{plasm_eksped_volume}.add($V{plasm_eksped_volume_dr})]]></textFieldExpression>
							</textField>
						</jr:tableFooter>
						<jr:detailCell height="0" rowSpan="1"/>
					</jr:column>
					<jr:column width="54">
						<jr:tableFooter height="31" rowSpan="1">
							<textField pattern="###0.000">
								<reportElement style="table_TD" x="0" y="0" width="54" height="31"/>
								<textElement textAlignment="Center">
									<font fontName="Tahoma"/>
								</textElement>
								<textFieldExpression><![CDATA[$V{plasm_eksped_volume}]]></textFieldExpression>
							</textField>
						</jr:tableFooter>
						<jr:detailCell height="0" rowSpan="1"/>
					</jr:column>
					<jr:column width="64">
						<jr:tableFooter height="31" rowSpan="1">
							<textField pattern="###0.000">
								<reportElement style="table_TD" x="0" y="0" width="64" height="31"/>
								<textElement textAlignment="Center">
									<font fontName="Tahoma"/>
								</textElement>
								<textFieldExpression><![CDATA[$V{plasm_eksped_volume_dr}]]></textFieldExpression>
							</textField>
						</jr:tableFooter>
						<jr:detailCell height="0" rowSpan="1"/>
					</jr:column>
					<jr:column width="58">
						<jr:tableFooter height="31" rowSpan="1">
							<textField pattern="###0.000">
								<reportElement style="table_TD" x="0" y="0" width="58" height="31"/>
								<textElement textAlignment="Center">
									<font fontName="Tahoma" isBold="false"/>
								</textElement>
								<textFieldExpression><![CDATA[$V{plasm_eksped_volume}.add($V{plasm_eksped_volume_dr}).add($V{plasm_ostatok})]]></textFieldExpression>
							</textField>
						</jr:tableFooter>
						<jr:detailCell height="0" rowSpan="1"/>
					</jr:column>
					<jr:column width="42">
						<jr:tableFooter height="31" rowSpan="1">
							<textField pattern="###0.000">
								<reportElement style="table_TD" x="0" y="0" width="42" height="31"/>
								<textElement textAlignment="Center">
									<font fontName="Tahoma"/>
								</textElement>
								<textFieldExpression><![CDATA[$V{plasm_rashod_volume}]]></textFieldExpression>
							</textField>
						</jr:tableFooter>
						<jr:detailCell height="0" rowSpan="1"/>
					</jr:column>
					<jr:column width="64">
						<jr:tableFooter height="31" rowSpan="1">
							<textField pattern="###0.000">
								<reportElement style="table_TD" x="0" y="0" width="64" height="31"/>
								<textElement textAlignment="Center">
									<font fontName="Tahoma"/>
								</textElement>
								<textFieldExpression><![CDATA[$V{plasm_rashod_volume}]]></textFieldExpression>
							</textField>
						</jr:tableFooter>
						<jr:detailCell height="0" rowSpan="1"/>
					</jr:column>
				</jr:table>
			</componentElement>
			<textField>
				<reportElement x="197" y="184" width="366" height="20"/>
				<textElement verticalAlignment="Top">
					<font fontName="Tahoma"/>
				</textElement>
				<textFieldExpression><![CDATA["Заведующий отделением " + $P{Superintendent}+" __________________________"]]></textFieldExpression>
			</textField>
		</band>
	</summary>
</jasperReport>
